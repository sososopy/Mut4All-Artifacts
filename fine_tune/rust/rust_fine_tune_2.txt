Mutation Operator: ReplaceReturnTypeWithUnderscore Target: - Free functions (excluding `main`) - Methods inside `impl` block
Mutation Rule:
1. Traverse all function definitions (`fn`) in the Rust source file, including both standalone functions and methods inside `impl` blocks.
2. Skip any function named `main`.
3. For each matched function, if it has an explicit return type, replace it with the underscore type `_`.
4. This transformation modifies only the return type, leaving the parameter list and body unchanged.
Example Before Mutation:
fn compute() -> i32 { 42 } impl MyStruct { fn get_result(&self) -> Result<(), String> { Ok(()) } }
Example After Mutation:
fn compute() -> _ { 42 } impl MyStruct { fn get_result(&self) -> _ { Ok(()) } }
Explanation: This mutation operator replaces explicit return types in function definitions with the inferred type `_`. It targets both free-standing functions and methods inside `impl` blocks, excluding the `main` function. By forcing the compiler to infer return types, this transformation increases pressure on the type inference engine. The operator is useful for exposing bugs in type resolution, borrow checking, and monomorphization logic, especially when inference interacts with complex return types or trait bounds.