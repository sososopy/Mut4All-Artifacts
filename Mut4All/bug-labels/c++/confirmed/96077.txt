Issue Title:
Clang 18 crashes with codes involving lambdas capturing 'this'

Source Code & Bug Trace:
#include <functional>

struct S
{
  std::function<void()> func;
};

struct F
{
  std::function<S(int)> f = [this] (auto) { return S{.func = [this]() {}}; };
};

int main() {}



Bug Labels:
clang:frontend, confirmed, crash-on-valid