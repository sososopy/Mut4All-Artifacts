Issue Title:
Error recovery can trigger Assertion `D && "Cannot get layout of forward declarations!"'

Source Code & Bug Trace:
typedef union{union b u;} A __attribute__ ((__transparent_union__));

Bug Labels:
bugzilla, c++, clang:frontend, crash-on-invalid