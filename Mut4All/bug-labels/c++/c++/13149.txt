Issue Title:
Error recovery can trigger Assertion `DefinitionData && "queried property of class with no definition"' (DeclCXX.h:617)

Source Code & Bug Trace:
 template<class _CharT> struct char_traits;
     template<typename _CharT, typename _Traits = char_traits<_CharT> > class basic_ios;
   class ios_base {
      iostate _M_exception;
    template<typename _CharT, typename _Traits> basic_ios<_CharT, _Traits>& basic_ios<_CharT, _Traits>::copyfmt(const basic_ios& __rhs) {
        _M_exception = goodbit;

Bug Labels:
bugzilla, c++, clang:frontend, crash-on-invalid