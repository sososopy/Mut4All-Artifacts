Issue Title:
Clang crashes on ill-formed template code

Source Code & Bug Trace:
template<class T>
struct Foo {};

struct S {
  static Foo<Bar<int>::type>> test();
};

Bug Labels:
bugzilla, clang:frontend, crash-on-invalid