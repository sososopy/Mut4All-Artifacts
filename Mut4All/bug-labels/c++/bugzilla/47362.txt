Issue Title:
Assertion failed: (ESI.Type != EST_Uninstantiated), function SubstExceptionSpec

Source Code & Bug Trace:
git clone https://github.com/DoDoENT/functionoid-emscripten-crash.git
pushd functionoid-emscripten-crash
git submodule update --init
popd
mkdir build
cd build
emcmake cmake -GNinja -DCMAKE_BUILD_TYPE=Release ../functionoid-emscripten-crash
ninja

Assertion failed: (ESI.Type != EST_Uninstantiated), function SubstExceptionSpec, file /opt/s/w/ir/cache/builder/emscripten-releases/llvm-project/clang/lib/Sema/SemaTemplateInstantiate.cpp, line 2194.
PLEASE submit a bug report to https://bugs.llvm.org/ and include the crash backtrace, preprocessed source, and associated run script.
Stack dump:
0.      Program arguments: /Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/bin/clang++ -target wasm32-unknown-emscripten -D__EMSCRIPTEN_major__=2 -D__EMSCRIPTEN_minor__=0 -D__EMSCRIPTEN_tiny__=8 -D_LIBCPP_ABI_VERSION=2 -Dunix -D__unix -D__unix__ -Werror=implicit-function-declaration -Xclang -nostdsysteminc -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/libcxx -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/lib/libcxxabi/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/compat -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/libc -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/lib/libc/musl/arch/emscripten -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/local/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/SSE -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/neon -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/lib/compiler-rt/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/lib/libunwind/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/.emscripten_cache/wasm-lto/include -DEMSCRIPTEN -fignore-exceptions -I/Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include -I/Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/config_ex/include -I/Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/boost/include -DNDEBUG -O2 -fstrict-aliasing -fstrict-enums -fvisibility=hidden -fvisibility-inlines-hidden -fPIC -flto -fwhole-program-vtables -std=gnu++2a -fno-threadsafe-statics -fno-rtti -fomit-frame-pointer -ffunction-sections -fmerge-all-constants -fno-stack-protector -Wall -Wextra -Wstrict-aliasing -MD -MT CMakeFiles/ftest.dir/main.cpp.o -MF CMakeFiles/ftest.dir/main.cpp.o.d -o CMakeFiles/ftest.dir/main.cpp.o -c /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/SDL -c -o CMakeFiles/ftest.dir/main.cpp.o -flto=full 
1.      <eof> parser at end of file
2.      /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/functionoid.hpp:129:5: instantiating function definition 'boost::functionoid::callable<int (), DefaultFunctionTraits>::callable<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>'
3.      /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/detail/callable_base.hpp:911:5: instantiating function definition 'boost::functionoid::detail::callable_base<DefaultFunctionTraits>::callable_base<boost::functionoid::callable<int (), DefaultFunctionTraits>::no_eh_state_constructor, (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>'
4.      /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/functionoid.hpp:116:29: instantiating function definition 'boost::functionoid::callable<int (), DefaultFunctionTraits>::no_eh_state_constructor::operator()<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>'
5.      /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/functionoid.hpp:108:29: instantiating function definition 'boost::functionoid::callable<int (), DefaultFunctionTraits>::no_eh_state_constructor::operator()<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26), std::__2::allocator<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>>'
6.      /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/functionoid.hpp:268:10: instantiating function definition 'boost::functionoid::callable<int (), DefaultFunctionTraits>::do_assign<true, (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26), std::__2::allocator<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>>'
7.      /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/functionoid.hpp:283:10: instantiating function definition 'boost::functionoid::callable<int (), DefaultFunctionTraits>::dispatch_assign<true, (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26), std::__2::allocator<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>>'
8.      /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/functionoid.hpp:303:10: instantiating function definition 'boost::functionoid::callable<int (), DefaultFunctionTraits>::do_assign<true, (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26), (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26), std::__2::allocator<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>>'
9.      /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/functionoid.hpp:255:32: instantiating function definition 'boost::functionoid::callable<int (), DefaultFunctionTraits>::vtable_for_functor<std::__2::allocator<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>, (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26), (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>'
10.     /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/functionoid.hpp:196:32: instantiating function definition 'boost::functionoid::callable<int (), DefaultFunctionTraits>::vtable_for_functor_aux<std::__2::allocator<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>, (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26), (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>'
11.     /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/detail/callable_base.hpp:746:15: instantiating function definition 'boost::functionoid::detail::vtable<boost::functionoid::detail::invoker<false, int>, DefaultFunctionTraits>::vtable<(lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26), (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26), boost::functionoid::detail::manager_ptr>'
12.     /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include/boost/functionoid/detail/callable_base.hpp:550:67: instantiating function definition 'boost::functionoid::detail::invoker<false, int>::invoker<boost::functionoid::detail::manager_ptr, (lambda at /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp:19:26)>'
Stack dump without symbol names (ensure you have llvm-symbolizer in your PATH or set the environment var `LLVM_SYMBOLIZER_PATH` to point to it):
0  libLLVM.dylib            0x0000000100ad471b llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) + 43
1  libLLVM.dylib            0x0000000100ad3498 llvm::sys::RunSignalHandlers() + 248
2  libLLVM.dylib            0x0000000100ad3bd0 llvm::sys::CleanupOnSignal(unsigned long) + 208
3  libLLVM.dylib            0x00000001009fceea (anonymous namespace)::CrashRecoveryContextImpl::HandleCrash(int, unsigned long) + 106
4  libLLVM.dylib            0x00000001009fd07e CrashRecoverySignalHandler(int) + 110
5  libsystem_platform.dylib 0x00007fff687de5fd _sigtramp + 29
6  libclang-cpp.dylib       0x0000000106657038 UnoptArrays + 182408
7  libsystem_c.dylib        0x00007fff686b4808 abort + 120
8  libsystem_c.dylib        0x00007fff686b3ac6 err + 0
9  libclang-cpp.dylib       0x0000000104eb8460 clang::TreeTransform<(anonymous namespace)::TemplateInstantiator>::TransformExceptionSpec(clang::SourceLocation, clang::FunctionProtoType::ExceptionSpecInfo&, llvm::SmallVectorImpl<clang::QualType>&, bool&) + 0
10 libclang-cpp.dylib       0x0000000104e5479c clang::Sema::SubstituteExplicitTemplateArguments(clang::FunctionTemplateDecl*, clang::TemplateArgumentListInfo&, llvm::SmallVectorImpl<clang::DeducedTemplateArgument>&, llvm::SmallVectorImpl<clang::QualType>&, clang::QualType*, clang::sema::TemplateDeductionInfo&) + 3356
11 libclang-cpp.dylib       0x0000000104eabdf4 void llvm::function_ref<void ()>::callback_fn<clang::Sema::DeduceTemplateArguments(clang::FunctionTemplateDecl*, clang::TemplateArgumentListInfo*, clang::QualType, clang::FunctionDecl*&, clang::sema::TemplateDeductionInfo&, bool)::$_5>(long) + 52
12 libclang-cpp.dylib       0x000000010480c38e clang::Sema::runWithSufficientStackSpace(clang::SourceLocation, llvm::function_ref<void ()>) + 46
13 libclang-cpp.dylib       0x0000000104e5857e clang::Sema::DeduceTemplateArguments(clang::FunctionTemplateDecl*, clang::TemplateArgumentListInfo*, clang::QualType, clang::FunctionDecl*&, clang::sema::TemplateDeductionInfo&, bool) + 430
14 libclang-cpp.dylib       0x0000000104d5966b clang::Sema::ResolveAddressOfOverloadedFunction(clang::Expr*, clang::QualType, bool, clang::DeclAccessPair&, bool*) + 1371
15 libclang-cpp.dylib       0x0000000104d6907c IsStandardConversion(clang::Sema&, clang::Expr*, clang::QualType, bool, clang::StandardConversionSequence&, bool, bool) + 156
16 libclang-cpp.dylib       0x0000000104d38916 TryImplicitConversion(clang::Sema&, clang::Expr*, clang::QualType, bool, clang::Sema::AllowedExplicit, bool, bool, bool, bool) + 118
17 libclang-cpp.dylib       0x0000000104d3888c clang::Sema::TryImplicitConversion(clang::Expr*, clang::QualType, bool, clang::Sema::AllowedExplicit, bool, bool, bool) + 44
18 libclang-cpp.dylib       0x0000000104c32acf clang::InitializationSequence::InitializeFrom(clang::Sema&, clang::InitializedEntity const&, clang::InitializationKind const&, llvm::MutableArrayRef<clang::Expr*>, bool, bool) + 3791
19 libclang-cpp.dylib       0x0000000104a0c517 clang::Sema::BuildMemberInitializer(clang::ValueDecl*, clang::Expr*, clang::SourceLocation) + 903
20 libclang-cpp.dylib       0x0000000104f0a2f2 clang::Sema::InstantiateMemInitializers(clang::CXXConstructorDecl*, clang::CXXConstructorDecl const*, clang::MultiLevelTemplateArgumentList const&) + 1490
21 libclang-cpp.dylib       0x0000000104f0954d clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3229
22 libclang-cpp.dylib       0x0000000104b62729 void llvm::function_ref<void ()>::callback_fn<clang::Sema::MarkFunctionReferenced(clang::SourceLocation, clang::FunctionDecl*, bool)::$_9>(long) + 1433
23 libclang-cpp.dylib       0x000000010480c38e clang::Sema::runWithSufficientStackSpace(clang::SourceLocation, llvm::function_ref<void ()>) + 46
24 libclang-cpp.dylib       0x0000000104ae45c7 clang::Sema::MarkFunctionReferenced(clang::SourceLocation, clang::FunctionDecl*, bool) + 759
25 libclang-cpp.dylib       0x0000000104a34e32 clang::Sema::BuildCXXConstructExpr(clang::SourceLocation, clang::QualType, clang::CXXConstructorDecl*, bool, llvm::MutableArrayRef<clang::Expr*>, bool, bool, bool, bool, unsigned int, clang::SourceRange) + 290
26 libclang-cpp.dylib       0x0000000104a34b73 clang::Sema::BuildCXXConstructExpr(clang::SourceLocation, clang::QualType, clang::NamedDecl*, clang::CXXConstructorDecl*, llvm::MutableArrayRef<clang::Expr*>, bool, bool, bool, bool, unsigned int, clang::SourceRange) + 323
27 libclang-cpp.dylib       0x0000000104c41317 PerformConstructorInitialization(clang::Sema&, clang::InitializedEntity const&, clang::InitializationKind const&, llvm::MutableArrayRef<clang::Expr*>, clang::InitializationSequence::Step const&, bool&, bool, bool, clang::SourceLocation, clang::SourceLocation) + 967
28 libclang-cpp.dylib       0x0000000104c390de clang::InitializationSequence::Perform(clang::Sema&, clang::InitializedEntity const&, clang::InitializationKind const&, llvm::MutableArrayRef<clang::Expr*>, clang::QualType*) + 3550
29 libclang-cpp.dylib       0x0000000104a0cf94 clang::Sema::BuildBaseInitializer(clang::QualType, clang::TypeSourceInfo*, clang::Expr*, clang::CXXRecordDecl*, clang::SourceLocation) + 1412
30 libclang-cpp.dylib       0x0000000104f0a09f clang::Sema::InstantiateMemInitializers(clang::CXXConstructorDecl*, clang::CXXConstructorDecl const*, clang::MultiLevelTemplateArgumentList const&) + 895
31 libclang-cpp.dylib       0x0000000104f0954d clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3229
32 libclang-cpp.dylib       0x0000000104b62729 void llvm::function_ref<void ()>::callback_fn<clang::Sema::MarkFunctionReferenced(clang::SourceLocation, clang::FunctionDecl*, bool)::$_9>(long) + 1433
33 libclang-cpp.dylib       0x000000010480c38e clang::Sema::runWithSufficientStackSpace(clang::SourceLocation, llvm::function_ref<void ()>) + 46
34 libclang-cpp.dylib       0x0000000104ae45c7 clang::Sema::MarkFunctionReferenced(clang::SourceLocation, clang::FunctionDecl*, bool) + 759
35 libclang-cpp.dylib       0x0000000104a34e32 clang::Sema::BuildCXXConstructExpr(clang::SourceLocation, clang::QualType, clang::CXXConstructorDecl*, bool, llvm::MutableArrayRef<clang::Expr*>, bool, bool, bool, bool, unsigned int, clang::SourceRange) + 290
36 libclang-cpp.dylib       0x0000000104a34b73 clang::Sema::BuildCXXConstructExpr(clang::SourceLocation, clang::QualType, clang::NamedDecl*, clang::CXXConstructorDecl*, llvm::MutableArrayRef<clang::Expr*>, bool, bool, bool, bool, unsigned int, clang::SourceRange) + 323
37 libclang-cpp.dylib       0x0000000104c41317 PerformConstructorInitialization(clang::Sema&, clang::InitializedEntity const&, clang::InitializationKind const&, llvm::MutableArrayRef<clang::Expr*>, clang::InitializationSequence::Step const&, bool&, bool, bool, clang::SourceLocation, clang::SourceLocation) + 967
38 libclang-cpp.dylib       0x0000000104c3a493 clang::InitializationSequence::Perform(clang::Sema&, clang::InitializedEntity const&, clang::InitializationKind const&, llvm::MutableArrayRef<clang::Expr*>, clang::QualType*) + 8595
39 libclang-cpp.dylib       0x0000000104990a25 clang::Sema::AddInitializerToDecl(clang::Decl*, clang::Expr*, bool) + 2325
40 libclang-cpp.dylib       0x0000000104f05296 clang::Sema::InstantiateVariableInitializer(clang::VarDecl*, clang::VarDecl*, clang::MultiLevelTemplateArgumentList const&) + 822
41 libclang-cpp.dylib       0x0000000104ef7f48 clang::Sema::BuildVariableInstantiation(clang::VarDecl*, clang::VarDecl*, clang::MultiLevelTemplateArgumentList const&, llvm::SmallVector<clang::Sema::LateInstantiatedAttribute, 16u>*, clang::DeclContext*, clang::LocalInstantiationScope*, bool, clang::VarTemplateSpecializationDecl*) + 1880
42 libclang-cpp.dylib       0x0000000104ef7612 clang::TemplateDeclInstantiator::VisitVarDecl(clang::VarDecl*, bool, llvm::ArrayRef<clang::BindingDecl*>*) + 610
43 libclang-cpp.dylib       0x0000000104f0e2b9 void llvm::function_ref<void ()>::callback_fn<clang::Sema::SubstDecl(clang::Decl*, clang::DeclContext*, clang::MultiLevelTemplateArgumentList const&)::$_0>(long) + 25
44 libclang-cpp.dylib       0x000000010480c38e clang::Sema::runWithSufficientStackSpace(clang::SourceLocation, llvm::function_ref<void ()>) + 46
45 libclang-cpp.dylib       0x0000000104f06b43 clang::Sema::SubstDecl(clang::Decl*, clang::DeclContext*, clang::MultiLevelTemplateArgumentList const&) + 227
46 libclang-cpp.dylib       0x0000000104ee334f clang::TreeTransform<(anonymous namespace)::TemplateInstantiator>::TransformDeclStmt(clang::DeclStmt*) + 159
47 libclang-cpp.dylib       0x0000000104eddded clang::TreeTransform<(anonymous namespace)::TemplateInstantiator>::TransformCompoundStmt(clang::CompoundStmt*, bool) + 573
48 libclang-cpp.dylib       0x0000000104ebf38f clang::Sema::SubstStmt(clang::Stmt*, clang::MultiLevelTemplateArgumentList const&) + 79
49 libclang-cpp.dylib       0x0000000104f0957c clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3276
50 libclang-cpp.dylib       0x0000000104f0c16e clang::Sema::PerformPendingInstantiations(bool) + 734
51 libclang-cpp.dylib       0x0000000104f09786 clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3798
52 libclang-cpp.dylib       0x0000000104f0c16e clang::Sema::PerformPendingInstantiations(bool) + 734
53 libclang-cpp.dylib       0x0000000104f09786 clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3798
54 libclang-cpp.dylib       0x0000000104f0c16e clang::Sema::PerformPendingInstantiations(bool) + 734
55 libclang-cpp.dylib       0x0000000104f09786 clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3798
56 libclang-cpp.dylib       0x0000000104f0c16e clang::Sema::PerformPendingInstantiations(bool) + 734
57 libclang-cpp.dylib       0x0000000104f09786 clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3798
58 libclang-cpp.dylib       0x0000000104f0c16e clang::Sema::PerformPendingInstantiations(bool) + 734
59 libclang-cpp.dylib       0x0000000104f09786 clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3798
60 libclang-cpp.dylib       0x0000000104f0c16e clang::Sema::PerformPendingInstantiations(bool) + 734
61 libclang-cpp.dylib       0x0000000104f09786 clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3798
62 libclang-cpp.dylib       0x0000000104f0c16e clang::Sema::PerformPendingInstantiations(bool) + 734
63 libclang-cpp.dylib       0x0000000104f09786 clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3798
64 libclang-cpp.dylib       0x0000000104f0c16e clang::Sema::PerformPendingInstantiations(bool) + 734
65 libclang-cpp.dylib       0x0000000104f09786 clang::Sema::InstantiateFunctionDefinition(clang::SourceLocation, clang::FunctionDecl*, bool, bool, bool) + 3798
66 libclang-cpp.dylib       0x0000000104f0c16e clang::Sema::PerformPendingInstantiations(bool) + 734
67 libclang-cpp.dylib       0x000000010480e027 clang::Sema::ActOnEndOfTranslationUnitFragment(clang::Sema::TUFragmentKind) + 407
68 libclang-cpp.dylib       0x000000010480f178 clang::Sema::ActOnEndOfTranslationUnit() + 360
69 libclang-cpp.dylib       0x000000010414ef3b clang::Parser::ParseTopLevelDecl(clang::OpaquePtr<clang::DeclGroupRef>&, bool) + 1835
70 libclang-cpp.dylib       0x0000000104071e0d clang::ParseAST(clang::Sema&, bool, bool) + 781
71 libclang-cpp.dylib       0x0000000105ab6cc3 clang::FrontendAction::Execute() + 99
72 libclang-cpp.dylib       0x0000000105a475a3 clang::CompilerInstance::ExecuteAction(clang::FrontendAction&) + 2307
73 libclang-cpp.dylib       0x0000000105b2fdbd clang::ExecuteCompilerInvocation(clang::CompilerInstance*) + 1629
74 clang++                  0x000000010093b213 cc1_main(llvm::ArrayRef<char const*>, char const*, void*) + 1971
75 clang++                  0x0000000100938deb ExecuteCC1Tool(llvm::SmallVectorImpl<char const*>&) + 379
76 libclang-cpp.dylib       0x00000001056b7517 void llvm::function_ref<void ()>::callback_fn<clang::driver::CC1Command::Execute(llvm::ArrayRef<llvm::Optional<llvm::StringRef> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, bool*) const::$_1>(long) + 23
77 libLLVM.dylib            0x00000001009fcdfc llvm::CrashRecoveryContext::RunSafely(llvm::function_ref<void ()>) + 236
78 libclang-cpp.dylib       0x00000001056b6bad clang::driver::CC1Command::Execute(llvm::ArrayRef<llvm::Optional<llvm::StringRef> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, bool*) const + 429
79 libclang-cpp.dylib       0x000000010567fdd6 clang::driver::Compilation::ExecuteCommand(clang::driver::Command const&, clang::driver::Command const*&) const + 710
80 libclang-cpp.dylib       0x000000010568022d clang::driver::Compilation::ExecuteJobs(clang::driver::JobList const&, llvm::SmallVectorImpl<std::__1::pair<int, clang::driver::Command const*> >&) const + 125
81 libclang-cpp.dylib       0x000000010569c00b clang::driver::Driver::ExecuteCompilation(clang::driver::Compilation&, llvm::SmallVectorImpl<std::__1::pair<int, clang::driver::Command const*> >&) + 395
82 clang++                  0x000000010093861f main + 10751
83 libdyld.dylib            0x00007fff685e5cc9 start + 1
clang-12: error: clang frontend command failed with exit code 134 (use -v to see invocation)
clang version 12.0.0 (/opt/s/w/ir/cache/git/chromium.googlesource.com-external-github.com-llvm-llvm--project 1a7a9efec3cf872dcf3e1a6e6fe39e797c4d9fc6)
Target: wasm32-unknown-emscripten
Thread model: posix
InstalledDir: /Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/bin
clang-12: note: diagnostic msg: 
********************

PLEASE ATTACH THE FOLLOWING FILES TO THE BUG REPORT:
Preprocessed source(s) and associated run script(s) are located at:
clang-12: note: diagnostic msg: /var/folders/w1/67dfjvfs6sd66rd33brg4d5r0000gn/T/main-ea1ec6.cpp
clang-12: note: diagnostic msg: /var/folders/w1/67dfjvfs6sd66rd33brg4d5r0000gn/T/main-ea1ec6.sh
clang-12: note: diagnostic msg: Crash backtrace is located in
clang-12: note: diagnostic msg: /Users/dodo/Library/Logs/DiagnosticReports/clang-12_<YYYY-MM-DD-HHMMSS>_<hostname>.crash
clang-12: note: diagnostic msg: (choose the .crash file that corresponds to your crash)
clang-12: note: diagnostic msg: 

********************
em++: error: '/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/bin/clang++ -target wasm32-unknown-emscripten -D__EMSCRIPTEN_major__=2 -D__EMSCRIPTEN_minor__=0 -D__EMSCRIPTEN_tiny__=8 -D_LIBCPP_ABI_VERSION=2 -Dunix -D__unix -D__unix__ -Werror=implicit-function-declaration -Xclang -nostdsysteminc -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/libcxx -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/lib/libcxxabi/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/compat -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/libc -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/lib/libc/musl/arch/emscripten -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/local/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/SSE -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/neon -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/lib/compiler-rt/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/lib/libunwind/include -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/.emscripten_cache/wasm-lto/include -DEMSCRIPTEN -fignore-exceptions -I/Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/functionoid/include -I/Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/config_ex/include -I/Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/boost/include -DNDEBUG -O2 -fstrict-aliasing -fstrict-enums -fvisibility=hidden -fvisibility-inlines-hidden -fPIC -flto -fwhole-program-vtables -std=gnu++2a -fno-threadsafe-statics -fno-rtti -fomit-frame-pointer -ffunction-sections -fmerge-all-constants -fno-stack-protector -Wall -Wextra -Wstrict-aliasing -MD -MT CMakeFiles/ftest.dir/main.cpp.o -MF CMakeFiles/ftest.dir/main.cpp.o.d -o CMakeFiles/ftest.dir/main.cpp.o -c /Users/dodo/Work/Microblink/Builds/tmp/functionoid-emscripten-crash/main.cpp -Xclang -isystem/Users/dodo/.conan/data/emsdk_installer/2.0.8/microblink/stable/package/743cf0321be3152777da4d05247a66d1552e70a2/upstream/emscripten/system/include/SDL -c -o CMakeFiles/ftest.dir/main.cpp.o -flto=full' failed (134)


Bug Labels:
bugzilla, c++20, clang:frontend, confirmed, crash-on-invalid