Issue Title:
unable to execute command: Segmentation

Source Code & Bug Trace:
 <eof> parser at end of file                                                                                          


 Code generation                                                                                                      


 Running pass 'Function Pass Manager' on module 'common/system/concurrency/atomic/atomic_test.cpp'.                   


 Running pass 'X86 DAG->DAG Instruction Selection' on function '@_ZN14type_tester_fpIfE3runEPKc'                      


Bug Labels:
backend:X86, bugzilla, clang:frontend, crash-on-valid