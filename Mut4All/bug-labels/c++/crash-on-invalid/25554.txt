Issue Title:
clang assertion failure when trying to infer generic lambda return type from undefined variable

Source Code & Bug Trace:
  // in trunk clang-3.8 (52bc812d7e056333f2a456b8fe8a0dba93e09bfd) the bug
  // is not triggered if the if-statement is not present.
  // on clang-3.8 from the LLVM Ubuntu repo (3.8.0-svn250077-1~exp1) just
  // `return baz` is enough.

  return "default";
} else {
  // `baz' is not defined in this scope!
  // If I define name it stops crashing.
  return baz;
}


Bug Labels:
bugzilla, clang:frontend, crash-on-invalid