Issue Title:
Assertion failed: (LIsBuiltins && RIsBuiltins && "Non-built-in locations must be rooted in the main file"), function isBeforeInTranslationUnit

Source Code & Bug Trace:
#pragma clang diagnostic ignored "-Wmissing-noreturn"
__asm__(".Lfoo: movw r2, #:lower16:.Lbar - .Lfoo");


clang -cc1 -triple armv6 -emit-obj bug197527-reduced.c


Assertion failed: (LIsBuiltins && RIsBuiltins && "Non-built-in locations must be rooted in the main file"), function isBeforeInTranslationUnit, file /share/dim/src/llvm/trunk/tools/clang/lib/Basic/SourceManager.cpp, line 2091.
Abort trap


Bug Labels:
bugzilla, clang:frontend, crash-on-invalid