Issue Title:
Frontend failed with exit code 139

Source Code & Bug Trace:
fatal error: too many errors emitted, stopping now [-ferror-limit=]                                                                                                                                                                                                                                                                                                                   PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace, preprocessed source, and associated run script.                                                                                                                                                                                                                           Stack dump:                                                                                                                                                                                                                                                                                                                                                                           0.      Program arguments: /usr/bin/clang++-15 --target=x86_64-linux-gnu --sysroot=/home/ubuntu/git/ClickHouse/cmake/linux/../../contrib/sysroot/linux-x86_64/x86_64-linux-gnu/libc --gcc-toolchain=/home/ubuntu/git/ClickHouse/cmake/linux/../../contrib/sysroot/linux-x86_64 -std=c++20 -fdiagnostics-color=always -Xclang -fuse-ctor-homing -fsized-deallocation -gdwarf-aranges -pipe -mssse3 -msse4.1 -msse4.2 -mpclmul -mpopcnt -fasynchronous-unwind-tables -ffile-prefix-map=/home/ubuntu/git/ClickHouse=. -falign-functions=32 -mbranches-within-32B-boundaries -fdiagnostics-absolute-paths -fstrict-vtable-pointers -fexperimental-new-pass-manager -Wall -Wextra -Wframe-larger-than=65536 -Weverything -Wpedantic -Wno-zero-length-array -Wno-c++98-compat-pedantic -Wno-c++98-compat -Wno-c++20-compat -Wno-sign-conversion -Wno-implicit-int-conversion -Wno-implicit-int-float-conversion -Wno-shorten-64-to-32 -Wno-ctad-maybe-unsupported -Wno-disabled-macro-expansion -Wno-documentation-unknown-command -Wno-double-promotion -Wno-exit-time-destructors -Wno-float-equal -Wno-global-constructors -Wno-missing-prototypes -Wno-missing-variable-declarations -Wno-padded -Wno-switch-enum -Wno-undefined-func-template -Wno-unused-template -Wno-vla -Wno-weak-template-vtables -Wno-weak-vtables -Wno-thread-safety-negative -O2 -g -O3 -g -gdwarf-4 -fno-pie -std=gnu++20 -Werror -DANNOYLIB_MULTITHREADED_BUILD -DBOOST_ASIO_HAS_STD_INVOKE_RESULT=1 -DBOOST_ASIO_STANDALONE=1 -DCONFIGDIR=\"\" -DENABLE_ANNOY -DENABLE_MULTITARGET_CODE=1 -DHAS_RESERVED_IDENTIFIER -DHAVE_CONFIG_H -DLIBSASL_EXPORTS=1 -DLZ4_DISABLE_DEPRECATE_WARNINGS=1 -DOBSOLETE_CRAM_ATTR=1 -DOBSOLETE_DIGEST_ATTR=1 -DPLUGINDIR=\"\" -DPOCO_ENABLE_CPP11 -DPOCO_HAVE_FD_EPOLL -DPOCO_OS_FAMILY_UNIX -DSASLAUTHD_CONF_FILE_DEFAULT=\"\" -DSTD_EXCEPTION_HAS_STACK_TRACE=1 -DUNALIGNED_OK -DWITH_COVERAGE=0 -DWITH_GZFILEOP -DX86_64 -DZLIB_COMPAT -D_LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS -I/home/ubuntu/git/ClickHouse/reldbg/includes/configs -I/home/ubuntu/git/ClickHouse/src -I/home/ubuntu/git/ClickHouse/reldbg/src -I/home/ubuntu/git/ClickHouse/reldbg/src/Core/include -I/home/ubuntu/git/ClickHouse/base/glibc-compatibility/memcpy -I/home/ubuntu/git/ClickHouse/base/base/.. -I/home/ubuntu/git/ClickHouse/reldbg/base/base/.. -I/home/ubuntu/git/ClickHouse/contrib/cctz/include -I/home/ubuntu/git/ClickHouse/base/pcg-random/. -I/home/ubuntu/git/ClickHouse/contrib/miniselect/include -I/home/ubuntu/git/ClickHouse/contrib/zstd/lib -I/home/ubuntu/git/ClickHouse/reldbg/contrib/cyrus-sasl-cmake -I/home/ubuntu/git/ClickHouse/contrib/lz4/lib -isystem /home/ubuntu/git/ClickHouse/contrib/libcxx/include -isystem /home/ubuntu/git/ClickHouse/contrib/libcxxabi/include -isystem /home/ubuntu/git/ClickHouse/contrib/libunwind/include -isystem /home/ubuntu/git/ClickHouse/contrib/libdivide/. -isystem /home/ubuntu/git/ClickHouse/contrib/jemalloc-cmake/include -isystem /home/ubuntu/git/ClickHouse/contrib/abseil-cpp -isystem /home/ubuntu/git/ClickHouse/contrib/croaring/cpp -
isystem /home/ubuntu/git/ClickHouse/contrib/croaring/include -isystem /home/ubuntu/git/ClickHouse/contrib/cityhash102/include -isystem /home/ubuntu/git/ClickHouse/contrib/boost -isystem /home/ubuntu/git/ClickHouse/contrib/poco/Net/include -isystem /home/ubuntu/git/ClickHouse/contrib/poco/Foundation/include -isystem /home/ubuntu/git/ClickHouse/contrib/poco/NetSSL_OpenSSL/i
nclude -isystem /home/ubuntu/git/ClickHouse/contrib/poco/Crypto/include -isystem /home/ubuntu/git/ClickHouse/contrib/boringssl/include -isystem /home/ubuntu/git/ClickHouse/contrib/poco/Util/include -isystem /home/ubuntu/git/ClickHouse/contrib/poco/JSON/include -isystem /home/ubuntu/git/ClickHouse/contrib/poco/XML/include -isystem /home/ubuntu/git/ClickHouse/contrib/replxx
/include -isystem /home/ubuntu/git/ClickHouse/contrib/fmtlib-cmake/../fmtlib/include -isystem /home/ubuntu/git/ClickHouse/contrib/magic_enum/include -isystem /home/ubuntu/git/ClickHouse/contrib/double-conversion -isystem /home/ubuntu/git/ClickHouse/contrib/dragonbox/include -isystem /home/ubuntu/git/ClickHouse/contrib/re2 -isystem /home/ubuntu/git/ClickHouse/reldbg/contri
b/re2-cmake -isystem /home/ubuntu/git/ClickHouse/contrib/zlib-ng -isystem /home/ubuntu/git/ClickHouse/reldbg/contrib/zlib-ng-cmake -isystem /home/ubuntu/git/ClickHouse/contrib/pdqsort -isystem /home/ubuntu/git/ClickHouse/contrib/xz/src/liblzma/api -isystem /home/ubuntu/git/ClickHouse/contrib/snappy -isystem /home/ubuntu/git/ClickHouse/reldbg/contrib/snappy-cmake -isystem
/home/ubuntu/git/ClickHouse/contrib/msgpack-c/include -isystem /home/ubuntu/git/ClickHouse/contrib/fast_float/include -isystem /home/ubuntu/git/ClickHouse/contrib/nats-io/src -isystem /home/ubuntu/git/ClickHouse/contrib/nats-io/src/adapters -isystem /home/ubuntu/git/ClickHouse/contrib/nats-io/src/include -isystem /home/ubuntu/git/ClickHouse/contrib/nats-io/src/unix -isyst
em /home/ubuntu/git/ClickHouse/contrib/libuv/include -isystem /home/ubuntu/git/ClickHouse/contrib/krb5/src/include -isystem /home/ubuntu/git/ClickHouse/reldbg/contrib/krb5-cmake/include -isystem /home/ubuntu/git/ClickHouse/contrib/NuRaft/include -isystem /home/ubuntu/git/ClickHouse/contrib/poco/MongoDB/include -isystem /home/ubuntu/git/ClickHouse/contrib/icu/icu4c/source/
i18n -isystem /home/ubuntu/git/ClickHouse/contrib/icu/icu4c/source/common -isystem /home/ubuntu/git/ClickHouse/contrib/capnproto/c++/src -isystem /home/ubuntu/git/ClickHouse/contrib/openldap-cmake/linux_x86_64/include -isystem /home/ubuntu/git/ClickHouse/contrib/openldap/include -isystem /home/ubuntu/git/ClickHouse/contrib/sparsehash-c11 -isystem /home/ubuntu/git/ClickHou
se/contrib/s2geometry/src -isystem /home/ubuntu/git/ClickHouse/contrib/AMQP-CPP/include -isystem /home/ubuntu/git/ClickHouse/contrib/AMQP-CPP -isystem /home/ubuntu/git/ClickHouse/contrib/sqlite-amalgamation -isystem /home/ubuntu/git/ClickHouse/contrib/libpqxx/include -isystem /home/ubuntu/git/ClickHouse/contrib/libpq -isystem /home/ubuntu/git/ClickHouse/contrib/libpq/incl
ude -isystem /home/ubuntu/git/ClickHouse/contrib/libstemmer_c/include -isystem /home/ubuntu/git/ClickHouse/contrib/wordnet-blast -isystem /home/ubuntu/git/ClickHouse/contrib/lemmagen-c/include -isystem /home/ubuntu/git/ClickHouse/contrib/simdjson/include -isystem /home/ubuntu/git/ClickHouse/contrib/rapidjson/include -isystem /home/ubuntu/git/ClickHouse/contrib/consistent-
hashing -isystem /home/ubuntu/git/ClickHouse/contrib/annoy/src -DNDEBUG -D OS_LINUX -nostdinc++ -c -o src/CMakeFiles/dbms.dir/Storages/MergeTree/ReplicatedMergeTreeSink.cpp.o /home/ubuntu/git/ClickHouse/src/Storages/MergeTree/ReplicatedMergeTreeSink.cpp
1.      /home/ubuntu/git/ClickHouse/src/Storages/MergeTree/ReplicatedMergeTreeSink.cpp:677:6: current parser token ')'
2.      /home/ubuntu/git/ClickHouse/src/Storages/MergeTree/ReplicatedMergeTreeSink.cpp:17:1: parsing namespace 'DB'
3.      /home/ubuntu/git/ClickHouse/src/Storages/MergeTree/ReplicatedMergeTreeSink.cpp:346:1: parsing function body 'DB::ReplicatedMergeTreeSink::commitPart'
4.      /home/ubuntu/git/ClickHouse/src/Storages/MergeTree/ReplicatedMergeTreeSink.cpp:346:1: in compound statement ('{}')
5.      /home/ubuntu/git/ClickHouse/src/Storages/MergeTree/ReplicatedMergeTreeSink.cpp:360:27: lambda expression parsing
Stack dump without symbol names (ensure you have llvm-symbolizer in your PATH or set the environment var `LLVM_SYMBOLIZER_PATH` to point to it):
/usr/lib/llvm-15/bin/../lib/libLLVM-15.so.1(_ZN4llvm3sys15PrintStackTraceERNS_11raw_ostreamEi+0x31)[0x7f1ecce94f21]
/usr/lib/llvm-15/bin/../lib/libLLVM-15.so.1(_ZN4llvm3sys17RunSignalHandlersEv+0xee)[0x7f1ecce92c5e]
/usr/lib/llvm-15/bin/../lib/libLLVM-15.so.1(_ZN4llvm3sys15CleanupOnSignalEm+0x106)[0x7f1ecce942d6]
/usr/lib/llvm-15/bin/../lib/libLLVM-15.so.1(+0xe25c3f)[0x7f1eccdb8c3f]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x14420)[0x7f1ed69ae420]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(+0xdc530f)[0x7f1ed3ce930f]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(+0xdc884b)[0x7f1ed3cec84b]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(+0xd788f5)[0x7f1ed3c9c8f5]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZNK5clang4Expr22EvaluateAsConstantExprERNS0_10EvalResultERKNS_10ASTContextENS0_16ConstantExprKindE+0x3d1)[0x7f1ed3c9c571]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang4Sema30PopExpressionEvaluationContextEv+0x42f)[0x7f1ed43b2b5f]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang4Sema15BuildLambdaExprENS_14SourceLocationES1_PNS_4sema15LambdaScopeInfoE+0x175)[0x7f1ed4527c35]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang4Sema15ActOnLambdaExprENS_14SourceLocationEPNS_4StmtEPNS_5ScopeE+0x68)[0x7f1ed4527a88]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser36ParseLambdaExpressionAfterIntroducerERNS_16LambdaIntroducerE+0xe49)[0x7f1ed3a0a2e9]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser21ParseLambdaExpressionEv+0xca)[0x7f1ed3a07f0a]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser19ParseCastExpressionENS0_13CastParseKindEbRbNS0_13TypeCastStateEbPb+0x179a)[0x7f1ed39fa5fa]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser25ParseAssignmentExpressionENS0_13TypeCastStateE+0xe1)[0x7f1ed39f4e81]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser19ParseExpressionListERN4llvm15SmallVectorImplIPNS_4ExprEEERNS2_INS_14SourceLocationEEENS1_12function_refIFvvEEEbb+0x10a)[0x7f1ed3a00e2a]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser28ParsePostfixExpressionSuffixENS_12ActionResultIPNS_4ExprELb1EEE+0x14f4)[0x7f1ed39f7ea4]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser19ParseCastExpressionENS0_13CastParseKindEbRbNS0_13TypeCastStateEbPb+0xdf)[0x7f1ed39f8f3f]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser25ParseAssignmentExpressionENS0_13TypeCastStateE+0xe1)[0x7f1ed39f4e81]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser15ParseExpressionENS0_13TypeCastStateE+0x9)[0x7f1ed39f4d89]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser18ParseExprStatementENS0_17ParsedStmtContextE+0x46)[0x7f1ed3a541c6]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser42ParseStatementOrDeclarationAfterAttributesERN4llvm11SmallVectorIPNS_4StmtELj32EEENS0_17ParsedStmtContextEPNS_14SourceLocationERNS_16ParsedAttributesESB_+0x1b78)[0x7f1ed3a53ae8]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser27ParseStatementOrDeclarationERN4llvm11SmallVectorIPNS_4StmtELj32EEENS0_17ParsedStmtContextEPNS_14SourceLocationE+0x15f)[0x7f1ed3a51d5f]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser26ParseCompoundStatementBodyEb+0x7a0)[0x7f1ed3a5aa30]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser26ParseFunctionStatementBodyEPNS_4DeclERNS0_10ParseScopeE+0xb5)[0x7f1ed3a5ba65]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser23ParseFunctionDefinitionERNS_17ParsingDeclaratorERKNS0_18ParsedTemplateInfoEPNS0_18LateParsedAttrListE+0xe12)[0x7f1ed3a75d32]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser14ParseDeclGroupERNS_15ParsingDeclSpecENS_17DeclaratorContextERNS_16ParsedAttributesEPNS_14SourceLocationEPNS0_12ForRangeInitE+0x1408)[0x7f1ed39ca6d8]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser30ParseDeclOrFunctionDefInternalERNS_16ParsedAttributesERNS_15ParsingDeclSpecENS_15AccessSpecifierE+0x3aa)[0x7f1ed3a74d5a]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser36ParseDeclarationOrFunctionDefinitionERNS_16ParsedAttributesEPNS_15ParsingDeclSpecENS_15AccessSpecifierE+0x1a7)[0x7f1ed3a747b7]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser24ParseExternalDeclarationERNS_16ParsedAttributesEPNS_15ParsingDeclSpecE+0x80a)[0x7f1ed3a73ada]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser19ParseInnerNamespaceERKN4llvm11SmallVectorINS0_18InnerNamespaceInfoELj4EEEjRNS_14SourceLocationERNS_16ParsedAttributesERNS_24BalancedDelimiterTrackerE+0xd2)[0x7f1ed39decf2]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser14ParseNamespaceENS_17DeclaratorContextERNS_14SourceLocationES2_+0x12e6)[0x7f1ed39de636]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser16ParseDeclarationENS_17DeclaratorContextERNS_14SourceLocationERNS_16ParsedAttributesES5_PS2_+0x3c7)[0x7f1ed39c3e57]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser24ParseExternalDeclarationERNS_16ParsedAttributesEPNS_15ParsingDeclSpecE+0x11b)[0x7f1ed3a733eb]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6Parser17ParseTopLevelDeclERNS_9OpaquePtrINS_12DeclGroupRefEEERNS_4Sema17ModuleImportStateE+0x453)[0x7f1ed3a71da3]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang8ParseASTERNS_4SemaEbb+0x2ee)[0x7f1ed39b07ae]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang13CodeGenAction13ExecuteActionEv+0xd5)[0x7f1ed4ba1725]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang14FrontendAction7ExecuteEv+0x67)[0x7f1ed55d37a7]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang16CompilerInstance13ExecuteActionERNS_14FrontendActionE+0x336)[0x7f1ed5547796]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang25ExecuteCompilerInvocationEPNS_16CompilerInstanceE+0x29a)[0x7f1ed56511aa]
/usr/bin/clang++-15(_Z8cc1_mainN4llvm8ArrayRefIPKcEES2_Pv+0x96f)[0x564fb167b91f]
/usr/bin/clang++-15(+0x11b1b)[0x564fb1679b1b]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(+0x2287772)[0x7f1ed51ab772]
/usr/lib/llvm-15/bin/../lib/libLLVM-15.so.1(_ZN4llvm20CrashRecoveryContext9RunSafelyENS_12function_refIFvvEEE+0xde)[0x7f1eccdb899e]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZNK5clang6driver10CC1Command7ExecuteEN4llvm8ArrayRefINS2_8OptionalINS2_9StringRefEEEEEPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPb+0x138)[0x7f1ed51ab238]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZNK5clang6driver11Compilation14ExecuteCommandERKNS0_7CommandERPS3_b+0x44a)[0x7f1ed51703fa]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZNK5clang6driver11Compilation11ExecuteJobsERKNS0_7JobListERN4llvm15SmallVectorImplISt4pairIiPKNS0_7CommandEEEEb+0x8e)[0x7f1ed517064e]
/usr/lib/llvm-15/bin/../lib/libclang-cpp.so.15(_ZN5clang6driver6Driver18ExecuteCompilationERNS0_11CompilationERN4llvm15SmallVectorImplISt4pairIiPKNS0_7CommandEEEE+0x39f)[0x7f1ed518d9cf]
/usr/bin/clang++-15(_Z10clang_mainiPPc+0x2c11)[0x564fb1679281]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf3)[0x7f1ecba77083]
/usr/bin/clang++-15(_start+0x2e)[0x564fb167632e]
clang: error: clang frontend command failed with exit code 139 (use -v to see invocation)
Ubuntu clang version 15.0.2-++20221003113142+5f620d003fda-1~exp1~20221003113228.69
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /usr/bin
clang: note: diagnostic msg:
********************

PLEASE ATTACH THE FOLLOWING FILES TO THE BUG REPORT:
Preprocessed source(s) and associated run script(s) are located at:
clang: note: diagnostic msg: /tmp/ReplicatedMergeTreeSink-b1f203.cpp
clang: note: diagnostic msg: /tmp/ReplicatedMergeTreeSink-b1f203.sh
clang: note: diagnostic msg:

********************

Bug Labels:
clang:frontend, crash