Issue Title:
error: internal compiler error: node_id_to_type: no type for node `expr 1u (id=29)` · Issue #11487 · rust-lang/rust · GitHub

Rust Code:
use std::rc::Rc;
use std::gc::Gc;

fn main() {
    let rc1 = Rc::new(1);
    let rc2 = rc1.clone();
    println!("{}", *rc1.borrow() + *rc2.borrow());

    let gc1 = Gc::new(1);
    let gc2 = gc1.clone();
    println!("{}", *gc1.borrow() + *gc2.borrow());
}

Bug Labels:
A-pretty, I-ICE
