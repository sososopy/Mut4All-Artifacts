Issue Title:
ICE: when non-static &str argument is encountered by TypeId · Issue #19791 · rust-lang/rust · GitHub

Rust Code:
use std::intrinsics::TypeId;

fn print_type_name<T:'static>(_val: T) {
    println!("{}", TypeId::of::<T>());
}

fn main() {
    print_type_name(|_name: &str| { // allows non 'static &str here
        5i
    });
}
// error: internal compiler error: non-static region found when hashing a type

Bug Labels:
A-lifetimes, I-ICE
