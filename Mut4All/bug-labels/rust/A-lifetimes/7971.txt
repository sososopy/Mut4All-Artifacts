Issue Title:
False double-borrow and/or ICE in macro expansion (only with macro arguments) · Issue #7971 · rust-lang/rust · GitHub

Rust Code:
fn main() {
    macro_rules! foo(
        ($a: expr) => {{
            let mut x = ~[0];
            x.push($a);
            x.push($a);
        }}
    );
    foo!(1);
}

Bug Labels:
A-lifetimes, A-syntaxext, I-ICE
