Issue Title:
missing specialization: `<encoder::EncodeContext as SpecializedEncoder<rustc::hir::def_id::LocalDefId>>::specialized_encode` not overriden · Issue #47422 · rust-lang/rust · GitHub

Rust Code:
#![feature(conservative_impl_trait)]
#![feature(const_fn)]

pub struct S;
pub const fn f(t: S) -> impl Fn() {
    move || {
        &t;
    }
}

Bug Labels:
A-const-eval, A-impl-trait, C-bug, I-ICE, T-compiler
