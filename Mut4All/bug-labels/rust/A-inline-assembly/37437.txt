Issue Title:
ICE: ../src/librustc_trans/mir/operand.rs:82: impossible case reached while using inline assembly · Issue #37437 · rust-lang/rust · GitHub

Rust Code:
#![feature(asm)]

fn xor_buf(buf: [u32; 4], buf2: [u32; 4]) {
    let res: [u32; 4];
    unsafe { asm!("
        movaps xmm0, 1
        xorps xmm0, 2
        movaps 1, xmm0":"=r"(res):"a"(buf), "b"(buf):"xmm0":"intel") };
}

Bug Labels:
A-inline-assembly, C-bug, I-ICE
