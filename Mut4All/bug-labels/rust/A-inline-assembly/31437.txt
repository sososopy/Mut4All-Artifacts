Issue Title:
rustc segfaults while translating inline assembly to write memory location · Issue #31437 · rust-lang/rust · GitHub

Rust Code:
#![feature(asm)]

fn test() -> () {
    unsafe {
        let test: i32;
        // using `str r0, [%0]` or any other instruction, it still crashes.
        asm!("mov %0, r0" : "=m"(test) ::);
    }   
}

Bug Labels:
A-inline-assembly, C-bug, I-ICE, glacier, requires-nightly
