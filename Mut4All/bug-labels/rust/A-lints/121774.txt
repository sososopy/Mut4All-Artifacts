Issue Title:
ICE: must_produce_diag: trimmed_def_paths called but no diagnostics emitted · Issue #121774 · rust-lang/rust · GitHub

Rust Code:
// lib.rs

#[must_use]
fn f() {}

pub fn g() {
    f();
}

Bug Labels:
A-lints, C-bug, E-easy, I-ICE, P-medium, T-compiler, regression-from-stable-to-stable
