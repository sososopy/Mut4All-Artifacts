Issue Title:
Internal compiler error in beginning rocket.rs app · Issue #109197 · rust-lang/rust · GitHub

Rust Code:
// this is my verbatum code since i'm just starting my app
#![feature(proc_macro_hygiene, decl_macro)]

#[macro_use] extern crate rocket;

use rocket::http::Method;
use rocket_cors::{AllowedOrigins, CorsOptions, AllowedHeaders};

// #[get("/")]
// fn cors<'a>() -> &'a str {
//     "Hello CORS"
// }

#[get("/world")]
fn world() -> &'static str {
    "Hello world!"
}

fn main() {
    // let allowed_origins = AllowedOrigins::some_exact(&["http://localhost:8080"]);

    // You can also deserialize this
    // let cors = rocket_cors::CorsOptions {
    //     allowed_origins,
    //     allowed_methods: vec![Method::Get].into_iter().map(From::from).collect(),
    //     allowed_headers: AllowedHeaders::some(&["Authorization", "Accept"]),
    //     allow_credentials: true,
    //     ..Default::default()
    // }
    // .to_cors().expect("cors not working...");

    let cors = CorsOptions::default()
    .allowed_origins(AllowedOrigins::all())
    .allowed_headers(AllowedHeaders::all())
    .allowed_methods(
        vec![Method::Get, Method::Post, Method::Patch, Method::Delete]
            .into_iter()
            .map(From::from)
            .collect(),
    )
    .allow_credentials(true);

    rocket::ignite().mount("/api/v1", routes![world]).attach(cors.to_cors().unwrap()).launch();
}

Bug Trace:
since it looks like there are multiple traces, i left it all in tact above to avoid ordering confusion.
if there is a specific way you would like me to re-order this let me know how and i will be happy to do so.

Bug Labels:
A-incr-comp, C-bug, I-ICE, T-compiler
