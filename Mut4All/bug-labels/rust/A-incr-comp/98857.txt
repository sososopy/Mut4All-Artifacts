Issue Title:
Compiler error · Issue #98857 · rust-lang/rust · GitHub

Rust Code:
struct Rectangle {
    width: u32,
    height: u32,
}

impl Rectangle {
    fn area(&self) -> u32 {
        self.width * self.height
    }

    fn scale(&mut self, factor: u32) {
        self.width *= factor;
        self.height *= factor;
    }
}

fn main() {
    let mut rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!(
        "The area of the rectangle is {} square pixels.",
        rect1.area()
    );

    rect1.scale(2);

    println!(
        "The area of the rectangle is now {} square pixels.",
        rect1.area()
    );

    rect1.scale(2675);

    println!(
        "The area of the rectangle is now {} square pixels.",
        rect1.area()
    )
}

Bug Trace:
➜  testing git:(trunk) ✗ RUST_BACKTRACE=1 cargo run
   Compiling testing v0.1.0 (/Users/belcar/Documents/Projects/testing)
thread 'rustc' panicked at 'assertion failed: `(left == right)`
  left: `3`,
 right: `0`', compiler/rustc_query_impl/src/on_disk_cache.rs:545:5
stack backtrace:
   0: _rust_begin_unwind
   1: core::panicking::panic_fmt
   2: core::panicking::assert_failed_inner
   3: core::panicking::assert_failed::<u64, u64>
   4: <rustc_query_impl::on_disk_cache::OnDiskCache>::try_load_query_result::<rustc_middle::ty::Ty>
   5: <rustc_middle::dep_graph::dep_node::DepKind as rustc_query_system::dep_graph::DepKind>::with_deps::<rustc_query_system::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl::plumbing::QueryCtxt, rustc_middle::ty::Ty, rustc_middle::ty::Ty>::{closure#0}, core::option::Option<rustc_middle::ty::Ty>>
   6: rustc_query_system::query::plumbing::try_load_from_disk_and_cache_in_memory::<rustc_query_impl::plumbing::QueryCtxt, rustc_span::def_id::DefId, rustc_middle::ty::Ty>
   7: rustc_query_system::query::plumbing::try_execute_query::<rustc_query_impl::plumbing::QueryCtxt, rustc_query_system::query::caches::DefaultCache<rustc_span::def_id::DefId, rustc_middle::ty::Ty>>
   8: rustc_query_system::query::plumbing::get_query::<rustc_query_impl::queries::type_of, rustc_query_impl::plumbing::QueryCtxt>
   9: <rustc_typeck::outlives::implicit_infer::InferVisitor as rustc_hir::itemlikevisit::ItemLikeVisitor>::visit_item
  10: rustc_typeck::outlives::implicit_infer::infer_predicates
  11: rustc_typeck::outlives::inferred_outlives_crate
  12: <rustc_query_system::dep_graph::graph::DepGraph<rustc_middle::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle::ty::context::TyCtxt, (), rustc_middle::ty::CratePredicatesMap>
  13: rustc_query_system::query::plumbing::try_execute_query::<rustc_query_impl::plumbing::QueryCtxt, rustc_query_system::query::caches::ArenaCache<(), rustc_middle::ty::CratePredicatesMap>>
  14: rustc_query_system::query::plumbing::force_query::<rustc_query_impl::queries::inferred_outlives_crate, rustc_query_impl::plumbing::QueryCtxt>
  15: rustc_query_impl::query_callbacks::inferred_outlives_crate::force_from_dep_node
  16: <rustc_middle::ty::context::TyCtxt as rustc_query_system::dep_graph::DepContext>::try_force_from_dep_node
  17: <rustc_query_system::dep_graph::graph::DepGraph<rustc_middle::dep_graph::dep_node::DepKind>>::try_mark_previous_green::<rustc_query_impl::plumbing::QueryCtxt>
  18: <rustc_query_system::dep_graph::graph::DepGraph<rustc_middle::dep_graph::dep_node::DepKind>>::try_mark_previous_green::<rustc_query_impl::plumbing::QueryCtxt>
  19: <rustc_query_system::dep_graph::graph::DepGraph<rustc_middle::dep_graph::dep_node::DepKind>>::try_mark_previous_green::<rustc_query_impl::plumbing::QueryCtxt>
  20: rustc_query_system::query::plumbing::ensure_must_run::<rustc_query_impl::plumbing::QueryCtxt, rustc_span::def_id::DefId, alloc::vec::Vec<&rustc_middle::mir::coverage::CodeRegion>>
  21: rustc_query_system::query::plumbing::get_query::<rustc_query_impl::queries::predicates_of, rustc_query_impl::plumbing::QueryCtxt>
  22: rustc_typeck::collect::convert_item
  23: <rustc_typeck::collect::CollectItemTypesVisitor as rustc_hir::intravisit::Visitor>::visit_item
  24: <rustc_middle::hir::map::Map>::visit_item_likes_in_module::<rustc_hir::intravisit::DeepVisitor<rustc_typeck::collect::CollectItemTypesVisitor>>
  25: rustc_typeck::collect::collect_mod_item_types
  26: <rustc_query_system::dep_graph::graph::DepGraph<rustc_middle::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle::ty::context::TyCtxt, rustc_span::def_id::LocalDefId, ()>
  27: rustc_query_system::query::plumbing::try_execute_query::<rustc_query_impl::plumbing::QueryCtxt, rustc_query_system::query::caches::DefaultCache<rustc_span::def_id::LocalDefId, ()>>
  28: rustc_query_system::query::plumbing::get_query::<rustc_query_impl::queries::collect_mod_item_types, rustc_query_impl::plumbing::QueryCtxt>
  29: <rustc_middle::hir::map::Map>::for_each_module::<rustc_typeck::check_crate::{closure#0}::{closure#0}::{closure#0}>
  30: <rustc_session::session::Session>::track_errors::<rustc_typeck::check_crate::{closure#0}, ()>
  31: rustc_typeck::check_crate
  32: rustc_interface::passes::analysis
  33: <rustc_query_system::dep_graph::graph::DepGraph<rustc_middle::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle::ty::context::TyCtxt, (), core::result::Result<(), rustc_errors::ErrorGuaranteed>>
  34: rustc_query_system::query::plumbing::try_execute_query::<rustc_query_impl::plumbing::QueryCtxt, rustc_query_system::query::caches::DefaultCache<(), core::result::Result<(), rustc_errors::ErrorGuaranteed>>>
  35: rustc_query_system::query::plumbing::get_query::<rustc_query_impl::queries::analysis, rustc_query_impl::plumbing::QueryCtxt>
  36: <rustc_interface::passes::QueryContext>::enter::<rustc_driver::run_compiler::{closure#1}::{closure#2}::{closure#3}, core::result::Result<(), rustc_errors::ErrorGuaranteed>>
  37: <rustc_interface::interface::Compiler>::enter::<rustc_driver::run_compiler::{closure#1}::{closure#2}, core::result::Result<core::option::Option<rustc_interface::queries::Linker>, rustc_errors::ErrorGuaranteed>>
  38: rustc_span::with_source_map::<core::result::Result<(), rustc_errors::ErrorGuaranteed>, rustc_interface::interface::create_compiler_and_run<core::result::Result<(), rustc_errors::ErrorGuaranteed>, rustc_driver::run_compiler::{closure#1}>::{closure#1}>
  39: rustc_interface::interface::create_compiler_and_run::<core::result::Result<(), rustc_errors::ErrorGuaranteed>, rustc_driver::run_compiler::{closure#1}>
  40: <scoped_tls::ScopedKey<rustc_span::SessionGlobals>>::set::<rustc_interface::interface::run_compiler<core::result::Result<(), rustc_errors::ErrorGuaranteed>, rustc_driver::run_compiler::{closure#1}>::{closure#0}, core::result::Result<(), rustc_errors::ErrorGuaranteed>>
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.

error: internal compiler error: unexpected panic

note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: rustc 1.61.0 (fe5b13d68 2022-05-18) running on aarch64-apple-darwin

note: compiler flags: --crate-type bin -C embed-bitcode=no -C split-debuginfo=unpacked -C debuginfo=2 -C incremental

note: some of the compiler flags provided by cargo are hidden

query stack during panic:
thread 'rustc' panicked at 'Illegal read of: 156', /rustc/fe5b13d681f25ee6474be29d748c65adcd91f69e/compiler/rustc_query_system/src/dep_graph/graph.rs:436:25
stack backtrace:
   0:        0x1032d6420 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hdb141e7893323405
   1:        0x103325d50 - core::fmt::write::hed96bcfc6342aee5
   2:        0x1032c95ec - std::io::Write::write_fmt::h67807909d9a5a6e1
   3:        0x1032d9238 - std::panicking::default_hook::{{closure}}::h23ab3d10a9c5bb0f
   4:        0x1032d8f14 - std::panicking::default_hook::hfa3eb92a01f5118c
   5:        0x10a409cc4 - rustc_driver[d1a223d3a1531598]::DEFAULT_HOOK::{closure#0}::{closure#0}
   6:        0x1032d9914 - ___umodti3
   7:        0x1032d976c - std::panicking::begin_panic_handler::{{closure}}::h5c2b0281f2361f0b
   8:        0x1032d68fc - std::sys_common::backtrace::__rust_end_short_backtrace::h48848f94b4985ec4
   9:        0x1032d94c4 - _rust_begin_unwind
  10:        0x103354008 - core::panicking::panic_fmt::hfc743f4016412d36
  11:        0x10d30821c - <rustc_middle[c21cc1d00f9931d]::dep_graph::dep_node::DepKind as rustc_query_system[c89b3de8f4a7151a]::dep_graph::DepKind>::read_deps::<<rustc_query_system[c89b3de8f4a7151a]::dep_graph::graph::DepGraph<rustc_middle[c21cc1d00f9931d]::dep_graph::dep_node::DepKind>>::read_index::{closure#0}>
  12:        0x10d1f5738 - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::get_query::<rustc_query_impl[c3a0b8026a69d0ca]::queries::opt_def_kind, rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  13:        0x10d4062a0 - <rustc_middle[c21cc1d00f9931d]::ty::context::TyCtxt>::def_kind::<rustc_span[d8b06aafce5235e8]::def_id::DefId>
  14:        0x10d2fc980 - <rustc_query_impl[c3a0b8026a69d0ca]::queries::type_of as rustc_query_system[c89b3de8f4a7151a]::query::config::QueryDescription<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>>::describe
  15:        0x10d3d206c - rustc_query_impl[c3a0b8026a69d0ca]::make_query::type_of
  16:        0x10d105f40 - <rustc_query_system[c89b3de8f4a7151a]::query::plumbing::QueryState<rustc_span[d8b06aafce5235e8]::def_id::DefId>>::try_collect_active_jobs::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  17:        0x10d44008c - <rustc_query_impl[c3a0b8026a69d0ca]::Queries>::try_collect_active_jobs
  18:        0x10d349074 - <rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>::try_print_query_stack
  19:        0x10a54a398 - rustc_interface[77abec0dbd940a38]::interface::try_print_query_stack
  20:        0x10a40a73c - rustc_driver[d1a223d3a1531598]::report_ice
  21:        0x1032d9914 - ___umodti3
  22:        0x1032d976c - std::panicking::begin_panic_handler::{{closure}}::h5c2b0281f2361f0b
  23:        0x1032d68fc - std::sys_common::backtrace::__rust_end_short_backtrace::h48848f94b4985ec4
  24:        0x1032d94c4 - _rust_begin_unwind
  25:        0x103354008 - core::panicking::panic_fmt::hfc743f4016412d36
  26:        0x103322ec0 - core::panicking::assert_failed_inner::he14f0813319041de
  27:        0x10e1bf8b8 - core[72e36f7ea59d07e3]::panicking::assert_failed::<u64, u64>
  28:        0x10d2e4b18 - <rustc_query_impl[c3a0b8026a69d0ca]::on_disk_cache::OnDiskCache>::try_load_query_result::<rustc_middle[c21cc1d00f9931d]::ty::Ty>
  29:        0x10d30d884 - <rustc_middle[c21cc1d00f9931d]::dep_graph::dep_node::DepKind as rustc_query_system[c89b3de8f4a7151a]::dep_graph::DepKind>::with_deps::<rustc_query_system[c89b3de8f4a7151a]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt, rustc_middle[c21cc1d00f9931d]::ty::Ty, rustc_middle[c21cc1d00f9931d]::ty::Ty>::{closure#0}, core[72e36f7ea59d07e3]::option::Option<rustc_middle[c21cc1d00f9931d]::ty::Ty>>
  30:        0x10d1d1f0c - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::try_load_from_disk_and_cache_in_memory::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt, rustc_span[d8b06aafce5235e8]::def_id::DefId, rustc_middle[c21cc1d00f9931d]::ty::Ty>
  31:        0x10d17af5c - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::try_execute_query::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt, rustc_query_system[c89b3de8f4a7151a]::query::caches::DefaultCache<rustc_span[d8b06aafce5235e8]::def_id::DefId, rustc_middle[c21cc1d00f9931d]::ty::Ty>>
  32:        0x10d235030 - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::get_query::<rustc_query_impl[c3a0b8026a69d0ca]::queries::type_of, rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  33:        0x10c871194 - <rustc_typeck[ff90abcb13a26e1e]::outlives::implicit_infer::InferVisitor as rustc_hir[2634c6b6ffedaf9b]::itemlikevisit::ItemLikeVisitor>::visit_item
  34:        0x10c870ea0 - rustc_typeck[ff90abcb13a26e1e]::outlives::implicit_infer::infer_predicates
  35:        0x10c9e1b64 - rustc_typeck[ff90abcb13a26e1e]::outlives::inferred_outlives_crate
  36:        0x10d3a93b4 - <rustc_query_system[c89b3de8f4a7151a]::dep_graph::graph::DepGraph<rustc_middle[c21cc1d00f9931d]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[c21cc1d00f9931d]::ty::context::TyCtxt, (), rustc_middle[c21cc1d00f9931d]::ty::CratePredicatesMap>
  37:        0x10d14fc20 - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::try_execute_query::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt, rustc_query_system[c89b3de8f4a7151a]::query::caches::ArenaCache<(), rustc_middle[c21cc1d00f9931d]::ty::CratePredicatesMap>>
  38:        0x10d1225cc - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::force_query::<rustc_query_impl[c3a0b8026a69d0ca]::queries::inferred_outlives_crate, rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  39:        0x10d448bd4 - rustc_query_impl[c3a0b8026a69d0ca]::query_callbacks::inferred_outlives_crate::force_from_dep_node
  40:        0x10dd28064 - <rustc_middle[c21cc1d00f9931d]::ty::context::TyCtxt as rustc_query_system[c89b3de8f4a7151a]::dep_graph::DepContext>::try_force_from_dep_node
  41:        0x10d376e84 - <rustc_query_system[c89b3de8f4a7151a]::dep_graph::graph::DepGraph<rustc_middle[c21cc1d00f9931d]::dep_graph::dep_node::DepKind>>::try_mark_previous_green::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  42:        0x10d376e54 - <rustc_query_system[c89b3de8f4a7151a]::dep_graph::graph::DepGraph<rustc_middle[c21cc1d00f9931d]::dep_graph::dep_node::DepKind>>::try_mark_previous_green::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  43:        0x10d376e54 - <rustc_query_system[c89b3de8f4a7151a]::dep_graph::graph::DepGraph<rustc_middle[c21cc1d00f9931d]::dep_graph::dep_node::DepKind>>::try_mark_previous_green::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  44:        0x10d12f264 - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::ensure_must_run::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt, rustc_span[d8b06aafce5235e8]::def_id::DefId, alloc[36110f32495f23ce]::vec::Vec<&rustc_middle[c21cc1d00f9931d]::mir::coverage::CodeRegion>>
  45:        0x10d1f6e5c - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::get_query::<rustc_query_impl[c3a0b8026a69d0ca]::queries::predicates_of, rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  46:        0x10c8af514 - rustc_typeck[ff90abcb13a26e1e]::collect::convert_item
  47:        0x10c8a69a8 - <rustc_typeck[ff90abcb13a26e1e]::collect::CollectItemTypesVisitor as rustc_hir[2634c6b6ffedaf9b]::intravisit::Visitor>::visit_item
  48:        0x10c96d538 - <rustc_middle[c21cc1d00f9931d]::hir::map::Map>::visit_item_likes_in_module::<rustc_hir[2634c6b6ffedaf9b]::intravisit::DeepVisitor<rustc_typeck[ff90abcb13a26e1e]::collect::CollectItemTypesVisitor>>
  49:        0x10c8a6210 - rustc_typeck[ff90abcb13a26e1e]::collect::collect_mod_item_types
  50:        0x10d38915c - <rustc_query_system[c89b3de8f4a7151a]::dep_graph::graph::DepGraph<rustc_middle[c21cc1d00f9931d]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[c21cc1d00f9931d]::ty::context::TyCtxt, rustc_span[d8b06aafce5235e8]::def_id::LocalDefId, ()>
  51:        0x10d168890 - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::try_execute_query::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt, rustc_query_system[c89b3de8f4a7151a]::query::caches::DefaultCache<rustc_span[d8b06aafce5235e8]::def_id::LocalDefId, ()>>
  52:        0x10d211298 - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::get_query::<rustc_query_impl[c3a0b8026a69d0ca]::queries::collect_mod_item_types, rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  53:        0x10c96c2b4 - <rustc_middle[c21cc1d00f9931d]::hir::map::Map>::for_each_module::<rustc_typeck[ff90abcb13a26e1e]::check_crate::{closure#0}::{closure#0}::{closure#0}>
  54:        0x10c8f370c - <rustc_session[65815612f1822c9d]::session::Session>::track_errors::<rustc_typeck[ff90abcb13a26e1e]::check_crate::{closure#0}, ()>
  55:        0x10c8ced88 - rustc_typeck[ff90abcb13a26e1e]::check_crate
  56:        0x10a4d7654 - rustc_interface[77abec0dbd940a38]::passes::analysis
  57:        0x10d3a6ff8 - <rustc_query_system[c89b3de8f4a7151a]::dep_graph::graph::DepGraph<rustc_middle[c21cc1d00f9931d]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[c21cc1d00f9931d]::ty::context::TyCtxt, (), core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>>
  58:        0x10d19c948 - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::try_execute_query::<rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt, rustc_query_system[c89b3de8f4a7151a]::query::caches::DefaultCache<(), core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>>>
  59:        0x10d235178 - rustc_query_system[c89b3de8f4a7151a]::query::plumbing::get_query::<rustc_query_impl[c3a0b8026a69d0ca]::queries::analysis, rustc_query_impl[c3a0b8026a69d0ca]::plumbing::QueryCtxt>
  60:        0x10a3da224 - <rustc_interface[77abec0dbd940a38]::passes::QueryContext>::enter::<rustc_driver[d1a223d3a1531598]::run_compiler::{closure#1}::{closure#2}::{closure#3}, core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>>
  61:        0x10a420d30 - <rustc_interface[77abec0dbd940a38]::interface::Compiler>::enter::<rustc_driver[d1a223d3a1531598]::run_compiler::{closure#1}::{closure#2}, core[72e36f7ea59d07e3]::result::Result<core[72e36f7ea59d07e3]::option::Option<rustc_interface[77abec0dbd940a38]::queries::Linker>, rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>>
  62:        0x10a3d9368 - rustc_span[d8b06aafce5235e8]::with_source_map::<core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>, rustc_interface[77abec0dbd940a38]::interface::create_compiler_and_run<core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>, rustc_driver[d1a223d3a1531598]::run_compiler::{closure#1}>::{closure#1}>
  63:        0x10a437d28 - rustc_interface[77abec0dbd940a38]::interface::create_compiler_and_run::<core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>, rustc_driver[d1a223d3a1531598]::run_compiler::{closure#1}>
  64:        0x10a3ce8ac - <scoped_tls[e37892cf9717cc40]::ScopedKey<rustc_span[d8b06aafce5235e8]::SessionGlobals>>::set::<rustc_interface[77abec0dbd940a38]::interface::run_compiler<core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>, rustc_driver[d1a223d3a1531598]::run_compiler::{closure#1}>::{closure#0}, core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>>
  65:        0x10a40eb70 - std[f416fc05a06723d8]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[77abec0dbd940a38]::util::run_in_thread_pool_with_globals<rustc_interface[77abec0dbd940a38]::interface::run_compiler<core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>, rustc_driver[d1a223d3a1531598]::run_compiler::{closure#1}>::{closure#0}, core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>>::{closure#0}, core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>>
  66:        0x10a3d846c - <<std[f416fc05a06723d8]::thread::Builder>::spawn_unchecked_<rustc_interface[77abec0dbd940a38]::util::run_in_thread_pool_with_globals<rustc_interface[77abec0dbd940a38]::interface::run_compiler<core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>, rustc_driver[d1a223d3a1531598]::run_compiler::{closure#1}>::{closure#0}, core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>>::{closure#0}, core[72e36f7ea59d07e3]::result::Result<(), rustc_errors[4b4990a3191a6bc8]::ErrorGuaranteed>>::{closure#1} as core[72e36f7ea59d07e3]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  67:        0x1032e25d8 - std::sys::unix::thread::Thread::new::thread_start::h0302a0ad0f27d8f0
  68:        0x1993e426c - __pthread_deallocate

error: internal compiler error: unexpected panic

note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: rustc 1.61.0 (fe5b13d68 2022-05-18) running on aarch64-apple-darwin

note: compiler flags: --crate-type bin -C embed-bitcode=no -C split-debuginfo=unpacked -C debuginfo=2 -C incremental

note: some of the compiler flags provided by cargo are hidden

query stack during panic:
end of query stack
thread panicked while panicking. aborting.
error: could not compile `testing`

Caused by:
  process didn't exit successfully: `rustc --crate-name testing --edition=2021 src/main.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts,future-incompat --crate-type bin --emit=dep-info,link -C embed-bitcode=no -C split-debuginfo=unpacked -C debuginfo=2 -C metadata=ab4545fa38f2f51c -C extra-filename=-ab4545fa38f2f51c --out-dir /Users/belcar/Documents/Projects/testing/target/debug/deps -C incremental=/Users/belcar/Documents/Projects/testing/target/debug/incremental -L dependency=/Users/belcar/Documents/Projects/testing/target/debug/deps` (signal: 6, SIGABRT: process abort signal)

Bug Labels:
A-incr-comp, C-bug, I-ICE, T-compiler
