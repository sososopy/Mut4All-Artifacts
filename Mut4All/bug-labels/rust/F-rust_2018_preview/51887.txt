Issue Title:
Internal compiler in Rust 2018 module path resolution · Issue #51887 · rust-lang/rust · GitHub

Rust Code:
use ansi_term;
use self::ansi_term::Colour::Red;

fn main() {
    println!("{}", Red.paint("hi"));
}

Bug Labels:
A-edition-2018, C-bug, E-needs-mcve, E-needs-test, F-rust_2018_preview, I-ICE, T-compiler
