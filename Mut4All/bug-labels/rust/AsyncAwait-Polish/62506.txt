Issue Title:
ICE on generator type check with a must_use type · Issue #62506 · rust-lang/rust · GitHub

Rust Code:
// src/transport/mod.rs
pub trait Broadcast {
    type Error: std::error::Error;
    type Future: Future<Output = Vec<Result<Response, Self::Error>>> + Unpin;

    fn broadcast(&mut self, req: Request) -> Self::Future;
}

// src/consensus/mod.rs
let request = Request::new(tx, kind);

self.broadcast.broadcast(request).await;
rx.await;

Bug Labels:
A-async-await, AsyncAwait-Polish, I-ICE, T-compiler
