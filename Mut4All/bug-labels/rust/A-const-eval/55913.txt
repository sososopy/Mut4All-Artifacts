Issue Title:
Compiler panic while compiling iterator with match · Issue #55913 · rust-lang/rust · GitHub

Rust Code:
use std::slice::Iter;

#[derive(Clone, Copy)]
pub struct Word8([usize; 8]);

impl Word8 {
    pub fn iter(&self) -> Iter<usize> {
        self.0.iter()
    }
}

fn bug(word: Word8) -> u64 {
    word.iter().for_each(|wire| match 0 {
        u64::max_value() => 0,
    });
    0
}

Bug Labels:
A-const-eval, B-RFC-approved, C-bug, I-ICE
