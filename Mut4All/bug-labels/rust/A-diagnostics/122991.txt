Issue Title:
ICE: `no entry found for key` · Issue #122991 · rust-lang/rust · GitHub

Rust Code:
pub trait Foo<'a> {
    type Assoc;

    fn demo() -> impl Foo
    where
        String: Copy;
}

fn main() {}

Bug Trace:
//@ check-pass

// Check that we don't hit a query cycle when:
// 1. Computing generics_of, which requires...
// 2. Calling resolve_bound_vars, which requires...
// 3. Calling associated_items, which requires...
// 4. Calling associated_type_for_impl_trait_in_trait, which requires...
// 5. Computing generics_of, which cycles.

pub trait Foo<'a> {
    type Assoc;

    fn demo<T>(other: T) -> impl Foo<'a, Assoc = Self::Assoc>
    where
        String: Copy;
}

fn main() {}

Bug Labels:
A-diagnostics, C-bug, I-ICE, S-has-mcve, T-compiler
