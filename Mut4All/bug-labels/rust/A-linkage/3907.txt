Issue Title:
XCrate typedef of trait makes ICE · Issue #3907 · rust-lang/rust · GitHub

Rust Code:
pub trait Foo {
    fn bar();
}

Bug Labels:
A-linkage, A-trait-system, E-needs-test, I-ICE
