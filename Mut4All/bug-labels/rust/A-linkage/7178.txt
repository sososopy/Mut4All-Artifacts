Issue Title:
Static method returning `'self` with generics fails cross crate · Issue #7178 · rust-lang/rust · GitHub

Rust Code:
// cross_crate_self.rs
pub struct Foo<'self, A>(&'self A);

impl<'self, A> Foo<'self, A> {
    pub fn new(a: &'self A) -> Foo<'self, A> {
        Foo(a)
    }
}
#[test]
fn test_foo() {
    let _ = Foo::new(&1i);
}

Bug Labels:
A-linkage, A-trait-system, A-type-system, I-ICE
