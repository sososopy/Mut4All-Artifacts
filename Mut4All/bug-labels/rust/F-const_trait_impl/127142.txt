Issue Title:
ICE: `parent item: DefId(0:5 ~ a[9a36]::{impl#1}) not marked as default` · Issue #127142 · rust-lang/rust · GitHub

Rust Code:
#![feature(const_trait_impl, effects, min_specialization)]

#[const_trait]
trait Foo {}

impl const Foo for i32 {}

impl<T> const Foo for T {}

fn main() {}

Version Information:
Command:
/home/matthias/.rustup/toolchains/master/bin/rustc -Zcrate-attr=feature(min_specialization)

Command:
/home/matthias/.rustup/toolchains/master/bin/rustc -Zcrate-attr=feature(min_specialization)

Bug Trace:
warning: the feature `effects` is incomplete and may not be safe to use and/or cause compiler crashes
 --> /tmp/icemaker_global_tempdir.c0RYNwyTFenY/rustc_testrunner_tmpdir_reporting.7X6MiHL6JNkS/mvce.rs:1:30
  |
1 | #![feature(const_trait_impl, effects)]
  |                              ^^^^^^^
  |
  = note: see issue #102090 <https://github.com/rust-lang/rust/issues/102090> for more information
  = note: `#[warn(incomplete_features)]` on by default

warning: trait `Foo` is never used
 --> /tmp/icemaker_global_tempdir.c0RYNwyTFenY/rustc_testrunner_tmpdir_reporting.7X6MiHL6JNkS/mvce.rs:4:7
  |
4 | trait Foo {}
  |       ^^^
  |
  = note: `#[warn(dead_code)]` on by default

warning: 2 warnings emitted

note: no errors encountered even though delayed bugs were created

note: those delayed bugs will now be shown as internal compiler errors

error: internal compiler error: parent item: DefId(0:5 ~ mvce[9951]::{impl#1}) not marked as default
  |
  = note: delayed at compiler/rustc_hir_analysis/src/check/check.rs:886:23 - disabled backtrace

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: please make sure that you have updated to the latest nightly

note: rustc 1.81.0-nightly (ba1d7f4a0 2024-06-29) running on x86_64-unknown-linux-gnu

note: compiler flags: -Z crate-attr=feature(min_specialization) -Z dump-mir-dir=dir

query stack during panic:
end of query stack

Bug Labels:
C-bug, F-const_trait_impl, F-effects, F-min_specialization, I-ICE, P-low, T-compiler
