Issue Title:
ICE when compiling an 'extern "C"' trait method · Issue #21238 · rust-lang/rust · GitHub

Rust Code:
pub trait Test {
  #[no_mangle]
  extern "C" fn something(&self) -> i32;
}

#[derive(Copy)]
pub struct Foo {
  field: i32
}

impl Test for Foo {
  extern "C" fn something(&self) -> i32 {
    self.field
  }
}

Bug Labels:
A-trait-system, I-ICE
