Issue Title:
ICE: coherence failed to report ambiguity: cannot locate the impl of the trait · Issue #27196 · rust-lang/rust · GitHub

Rust Code:
let (printSend, printRec) = channel();

let printer = thread::spawn(move || {
    loop {
        match printRec.recv() {
            Ok(file) => {
                match file {
                    Some(f) => println!("{}", f),
                    None => {}
                }
            },
            Err(_) => break
        }
    }
});

Bug Labels:
A-trait-system, A-type-system, I-ICE, T-compiler
