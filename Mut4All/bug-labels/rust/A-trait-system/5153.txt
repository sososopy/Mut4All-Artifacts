Issue Title:
ICE when calling method on trait object with incorrect self type · Issue #5153 · rust-lang/rust · GitHub

Rust Code:
trait Foo {
    fn foo(~self);
}

impl Foo for int {
    fn foo(~self) {
    }
}

fn main() {
    (@5 as @Foo).foo();
}

Bug Labels:
A-trait-system, E-needs-test, I-ICE
