Issue Title:
ICE on higher-trait bounds · Issue #60218 · rust-lang/rust · GitHub

Rust Code:
use std::iter::Map;

trait Foo { }

impl<T> Foo for &'_ T where T: Foo { }
impl<T> Foo for Option<T> where T: Foo { }

impl Foo for u32 { }

fn trigger_error<I, F>(iterable: I, functor: F)
where
    for<'t> &'t I: IntoIterator,
    for<'t> Map<<&'t I as IntoIterator>::IntoIter, F>: Iterator,
    for<'t> <Map<<&'t I as IntoIterator>::IntoIter, F> as Iterator>::Item: Foo,
{
    
}

fn main() {
    trigger_error(Vec::<u32>::new(), |x: &u32| Some(x))
}

Bug Labels:
A-trait-system, C-bug, E-needs-test, I-ICE, P-high, T-compiler
