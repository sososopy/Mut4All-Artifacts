Issue Title:
ICE: `expected usize, got N/#0: usize` · Issue #123906 · rust-lang/rust · GitHub

Rust Code:
fn as_chunks<const N: usize>() -> [u8; N] {
    loop {
        break;
    }
}

fn main() {}

Bug Trace:
//@ check-pass
//
// Instead of checking that an error occurs without the feature gate,

fn as_chunks<const N: usize>() -> [u8; N] {
    loop {
        let _r = &[D(log, 30),
                  D(log, 31),
                  { D(log, 32); break; },
                  D(log, 33)][..];
    }
}

fn main() {
    let [_, _] = as_chunks();
}

Bug Labels:
A-const-generics, A-diagnostics, A-suggestion-diagnostics, C-bug, I-ICE, S-has-mcve, T-compiler
