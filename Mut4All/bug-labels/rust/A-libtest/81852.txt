Issue Title:
ICE in library/test/src/lib.rs:356 on Nightly when running doc-tests, where the first doc-test is executed twice in a row. · Issue #81852 · rust-lang/rust · GitHub

Rust Code:
let running_test = running_tests.remove(&completed_test.desc).unwrap();

Bug Trace:
0:     0x7fff9fee9755 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h07eb7c6246901ad5
   1:     0x7fff9ff15fdb - core::fmt::write::ha3ea633b18d2da75
   2:     0x7fff9fedc08d - <std::io::IoSlice as core::fmt::Debug>::fmt::h8573cdc9b491acbf
   3:     0x7fff9feed8fd - std::panicking::take_hook::h462942ea222a8ec2
   4:     0x7fff9feed3c9 - std::panicking::take_hook::h462942ea222a8ec2
   5:     0x7fff840a96f7 - rustc_driver::report_ice::hc33e4d260fbc44ec
   6:     0x7fff9feee362 - std::panicking::rust_panic_with_hook::h18985e2f09a20bf1
   7:     0x7fff9feede51 - rust_begin_unwind
   8:     0x7fff9feea12f - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h07eb7c6246901ad5
   9:     0x7fff9feedda9 - rust_begin_unwind
  10:     0x7fff9ff12070 - core::panicking::panic_fmt::h45da916c710b88f7
  11:     0x7fff9ff11d03 - core::result::unwrap_failed::h8a30362b6787a796
  12:     0x7fffbac17ab2 - test::run_test::h5515debdb9b010cd
  13:     0x7fffbabe15c6 - <unknown>
  14:     0x7fffbabe8cb4 - <unknown>
  15:     0x7fff9fefe0ca - std::sys::windows::thread::Thread::new::ha39cc759d7fbecd8
  16:     0x7ff8004a7034 - BaseThreadInitThunk
  17:     0x7ff80095d0d1 - RtlUserThreadStart

Bug Labels:
A-libtest, C-bug, E-needs-mcve, I-ICE, T-libs, regression-from-stable-to-beta
