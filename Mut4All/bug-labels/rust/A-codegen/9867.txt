Issue Title:
ICE when doing some casts on constant expressions · Issue #9867 · rust-lang/rust · GitHub

Rust Code:
extern
{
    fn foo();
}

static a: u64 = foo as u64;

fn main()
{
    println!("{:u}", a};
}

Bug Labels:
A-codegen, I-ICE
