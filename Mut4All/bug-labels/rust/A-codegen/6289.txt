Issue Title:
pattern guard causes assertion failure · Issue #6289 · rust-lang/rust · GitHub

Rust Code:
fn main() {
    let x = Some(3);
    let y = 0;

    match(x) {
        None => println("None"),
        _ if y == 0 => println("y is zero"),
        Some(n) => println(fmt!("Some(%d)", n)),
    }
}

Bug Labels:
A-codegen, I-ICE
