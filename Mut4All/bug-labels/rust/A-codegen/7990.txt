Issue Title:
"error: internal compiler error sequence_element_type called on non-sequence value" · Issue #7990 · rust-lang/rust · GitHub

Rust Code:
struct Foo
{ x: i32 }

impl Index<uint, i32> for Foo
{
  fn index(&self, _rhs: &uint) -> i32
  { self.x }
}

fn main()
{
  let mut foo = Foo { x: 0 };

  foo[0] += 5; // ICE -- This wouldn't work as expected anyway ^_^
}

Bug Labels:
A-codegen, I-ICE
