Issue Title:
combining explicit self and closures yields an LLVM failure · Issue #3247 · rust-lang/rust · GitHub

Rust Code:
struct Box {
    x: uint;
}

impl Box {
    fn set_many(&mut self, xs: &[uint]) {
        for xs.each |x| {
            self.x = x;
        }
    }
}

fn main() {}

Bug Labels:
A-codegen, I-ICE
