Issue Title:
Another macro ICE · Issue #68060 · rust-lang/rust · GitHub

Rust Code:
fn calc(width: usize) -> Vec<usize> {
    (0..width)
        .map(
            #[target_feature(enable = "avx2")]
            |y| y,
        )
        .collect()
}

fn main() {
    println!("ICE {:?}", calc(8));
}

Bug Labels:
A-closures, A-codegen, A-macros, A-type-system, C-bug, I-ICE, P-high, T-compiler, glacier
