Issue Title:
assertion failure in trans_alt when combining if, nested patterns · Issue #3121 · rust-lang/rust · GitHub

Rust Code:
enum side { mayo, catsup, vinegar }
enum order { hamburger, fries(side), shake }
enum meal { to_go(order), for_here(order) }

fn foo(m: @meal, cond: bool) {
    match *m {
      to_go(_) => { }
      for_here(_) if cond => {}
      for_here(hamburger) => {}
      for_here(fries(s)) => {}
      for_here(shake) => {}
    }
}

fn main() {
    foo(@for_here(hamburger), true)
}

Bug Labels:
A-codegen, I-ICE
