Issue Title:
Assertion failed in erroneous recursive types with methods returning a `impl Trait` type · Issue #72554 · rust-lang/rust · GitHub

Rust Code:
use std::collections::BTreeSet;

#[derive(Hash)]
pub enum ElemDerived {
    A(ElemDerived)
}

pub enum Elem {
    Derived(ElemDerived)
}

pub struct Set(BTreeSet<Elem>);

impl Set {
    pub fn into_iter(self) -> impl Iterator<Item = Elem> {
        self.0.into_iter()
    }
}

fn main() {}

Bug Labels:
A-codegen, A-impl-trait, C-bug, E-needs-test, I-ICE, T-compiler, glacier
