Issue Title:
librustc_mir/borrow_check/nll/universal_regions.rs:824: cannot convert ReFree ... · Issue #51351 · rust-lang/rust · GitHub

Rust Code:
impl Struct {
    pub fn produce<'a>(&self, x: &'a mut X) -> impl Future<Item = (), Error = Y> + 'a
    {
        futures::future::loop_fn((), move |_| {
            // Adding the following line causes the crash.
            // Without the line the code does not compile, because:
            // free region `` does not outlive free region `'_#1r`
            let x: &'a mut X = x; 
            Self::produce_once(x).map(|_| futures::future::Loop::Continue(()))
        })
    }

    pub fn produce_once<'a>(x: &'a mut X) -> impl Future<Item = (), Error = Y> + 'a {
        unimpemented!()
    }
}

Bug Labels:
A-NLL, C-bug, E-mentor, I-ICE, NLL-complete
