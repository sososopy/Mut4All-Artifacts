Issue Title:
struct containing array of size given in Self and slice causes compiler panic · Issue #63838 · rust-lang/rust · GitHub

Rust Code:
pub struct Memory<'rom> {
    rom: &'rom [u8],
    ram: [u8; Self::SIZE],
}

impl<'rom> Memory<'rom> {
    pub const SIZE: usize = 0x8000;
}

Bug Labels:
A-NLL, A-associated-items, A-borrow-checker, C-bug, I-ICE, T-compiler
