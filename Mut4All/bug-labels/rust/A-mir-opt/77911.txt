Issue Title:
[ICE] with mir-opt-level=2 in traits\codegen\mod.rs · Issue #77911 · rust-lang/rust · GitHub

Rust Code:
use std::io::{BufRead, BufReader};
use std::fs::File;
fn file_lines() -> impl Iterator<Item=String> {
    BufReader::new(File::open("data.txt").unwrap()).lines().map(Result::unwrap)
}
fn main() {
    for _ in file_lines() {}
}

Bug Labels:
A-mir-opt, C-bug, E-needs-test, I-ICE, T-compiler, glacier, requires-nightly
