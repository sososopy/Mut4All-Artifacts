Issue Title:
Compiler error, nightly · Issue #32696 · rust-lang/rust · GitHub

Rust Code:
pub trait Trait {    
    fn method(&self);
}

macro_rules! count{
    () =>{{
        struct COUNT {}
        static C: COUNT = COUNT {};
        let _=&C;
    }}
}

impl<T> Trait for T {
    fn method(&self) {
        let _=|| count!();
    }
}
#[macro_use]
extern crate bug;

use bug::Trait;

struct Dummy;

fn main() {
    Dummy.method();
}

Bug Labels:
A-metadata, I-ICE, regression-from-stable-to-nightly
