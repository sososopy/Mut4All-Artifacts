Issue Title:
ICE if generic destructor invokes a method on self ("vtables missing where they are needed") · Issue #4252 · rust-lang/rust · GitHub

Rust Code:
trait X {
    fn call(&self);
}

struct Y;
struct Z<T: X> {
    x: T
}

impl Y: X {
    fn call(&self) {
    }
}

impl<T: X> Z<T>: Drop {
    fn finalize(&self) {
        self.x.call(); // Adding this statement causes an ICE.
    }
}

fn main() {
    let y = Y;
    let _z = Z{x: y};
}

Bug Labels:
A-destructors, A-trait-system, I-ICE, P-medium
