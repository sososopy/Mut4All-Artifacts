Issue Title:
ICE when using associated type in another assoc type's bound. 'assertion failed: did.krate != ast::LOCAL_CRATE' · Issue #20589 · rust-lang/rust · GitHub

Rust Code:
#![feature(associated_types)]
#![crate_type="lib"]

pub trait Test {
    type Node;
    type Iter: Iterator<Item=Self::Node>;
}

Bug Labels:
A-associated-items, I-ICE
