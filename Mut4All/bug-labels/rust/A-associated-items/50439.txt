Issue Title:
ICE combining specialization with associated constants as array lengths · Issue #50439 · rust-lang/rust · GitHub

Rust Code:
#![feature(specialization)]

pub trait ReflectDrop {
    const REFLECT_DROP : bool = false;
}

impl<T> ReflectDrop for T where T : Clone {}

pub trait PinDropInternal {
    fn is_valid() where Self: ReflectDrop;
}

struct Bears<T>(T);

default impl <T> ReflectDrop for Bears<T> { }

impl <T: Sized> PinDropInternal for Bears<T> {
    fn is_valid() where Self: ReflectDrop {
        let _ = [(); 0 - !!(<Bears<T> as ReflectDrop>::REFLECT_DROP) as usize];
    }
}

fn main() {
}

Bug Labels:
A-associated-items, A-specialization, C-bug, E-needs-test, F-specialization, I-ICE, T-compiler, requires-nightly
