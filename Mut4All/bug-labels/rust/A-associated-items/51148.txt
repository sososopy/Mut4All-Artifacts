Issue Title:
feature(generic_associated_types): compiler panicked · Issue #51148 · rust-lang/rust · GitHub

Rust Code:
#![feature(generic_associated_types)]

use std::ops::Index;
use std::fmt::Display;

fn main() {

    let w = Wrap(vec!['a', 'b']);
    let mut v: Vec<&Index<usize, Output = Display>> = Vec::new();
    v.push(&w as &Index<usize, Output = Display>);

}

struct Wrap<T>(Vec<T>);

impl<T> Index<usize> for Wrap<T>
where T: Display {
    type Output<'a> = Display + 'a;
    fn index<'a>(&'a self, index: usize) -> &'a Self::Output {
        &self.0[index]
    }
}

Bug Labels:
A-GATs, A-associated-items, A-type-system, C-bug, F-generic_associated_types, I-ICE, T-compiler
