Issue Title:
ICE: find_associated_type_in_generics(): no self type · Issue #18819 · rust-lang/rust · GitHub

Rust Code:
#![feature(associated_types)]

trait Foo {
    type Item;
}

struct X;

impl Foo for X {
    type Item = bool;
}

fn print_x(_: &Foo, extra: &str) {
    println!("{}", extra);
}

fn main() {
    print_x(X);
}

Bug Labels:
A-associated-items, A-trait-system, I-ICE
