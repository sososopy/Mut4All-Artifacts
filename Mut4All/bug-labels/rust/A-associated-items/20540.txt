Issue Title:
ICE with associated types and default types · Issue #20540 · rust-lang/rust · GitHub

Rust Code:
#![feature(associated_types)]

pub trait Foo {
    type Bar = ();

    fn foo(&self);
}

impl Foo for String {
    fn foo(&self) {
        println!("FOO {}", self);
    }
}

pub fn main() {
    let s = "foo".to_string();
    s.foo();
}

Bug Labels:
A-associated-items, I-ICE
