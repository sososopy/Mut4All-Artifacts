Issue Title:
Associated type as struct field causes type-checking error · Issue #20535 · rust-lang/rust · GitHub

Rust Code:
#![feature(associated_types)]

pub trait Foo {
    type Bar;
}

impl Foo for int {
    type Bar = int;
}

struct Thing<F: Foo> {
    a: F,
    b: F::Bar,
}

fn main() {
    let _ = Thing{a: 1i, b: 2i};
    //                      ^~
    // error: mismatched types: expected `<int as Foo>::Bar`,
    // found `int` (expected associated type, found int)
}

Bug Labels:
A-associated-items, I-ICE
