Issue Title:
ICE: Encountered error `Unimplemented` when trying to select an implementation for constant trait item reference. <anon>:4     const ID: i32; · Issue #25606 · rust-lang/rust · GitHub

Rust Code:
trait HasId {
    fn id() -> i32;
}

trait Foo {}

impl HasId for Foo {
    fn id() -> i32 { 1 }
}

trait Bar {}

impl HasId for Bar {
    fn id() -> i32 { 2 }
}

fn print_id<T: HasId + ?Sized>() {
    println!("{}", <T as HasId>::id());
}

fn main() {
    print_id::<Foo>();
    print_id::<Bar>();
}

Bug Labels:
A-associated-items, I-ICE
