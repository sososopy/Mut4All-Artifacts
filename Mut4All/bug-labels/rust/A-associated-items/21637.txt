Issue Title:
ICE with associated type · Issue #21637 · rust-lang/rust · GitHub

Rust Code:
pub trait Pattern<'a>: Sized {
    type Matcher;
}

struct CharEqMatcher<'a, C>(C, &'a str);

impl<'a, C> Pattern<'a> for C {
    type Matcher = CharEqMatcher<'a, C>;
}

pub struct MatchIndices<'a, P: Pattern<'a>>(P::Matcher);

impl<'a, P: Pattern<'a>> Clone for MatchIndices<'a, P> where P::Matcher: Clone {
    fn clone(&self) -> Self {
        MatchIndices(Clone::clone(&self.0))
    }
}

fn main() {}

Bug Labels:
A-associated-items, I-ICE
