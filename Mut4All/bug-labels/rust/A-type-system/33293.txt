Issue Title:
ICE: "enum pattern didn't resolve to enum or struct None" · Issue #33293 · rust-lang/rust · GitHub

Rust Code:
enum EnumA {
    JustA(i32),
    Same(i32)
}

/*enum EnumB {
    JustB(i32),
    Same(i32)
}*/

fn test() -> EnumA {
    EnumA::JustA(2)
}

fn main() {
    loop {
        let p = match test() {
            EnumA (r) => r,
            EnumB::Same(x) => x
        };
    }
}

Bug Labels:
A-type-system, E-needs-test, I-ICE, regression-from-stable-to-nightly
