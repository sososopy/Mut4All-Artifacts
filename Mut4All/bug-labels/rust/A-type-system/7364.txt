Issue Title:
ICE with global variable promoting extern fn to @fn · Issue #7364 · rust-lang/rust · GitHub

Rust Code:
enum Foo {
    Call(@fn())
}

static f: Foo = Call(main);

fn main() { }

Bug Labels:
A-type-system, I-ICE, P-low
