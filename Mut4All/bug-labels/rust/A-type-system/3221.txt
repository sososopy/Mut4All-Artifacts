Issue Title:
vtable resolution does not take place for calls that are not statically resolved · Issue #3221 · rust-lang/rust · GitHub

Rust Code:
trait TraitA {
    fn method_a() -> int;
}

trait TraitB {
    fn gimme_an_a<A: TraitA>(a: A) -> int;
}

impl int: TraitB {
    fn gimme_an_a<A: TraitA>(a: A) -> int {
        a.method_a() + self
    }
}

fn call_it<B: TraitB>(b: B)  -> int {
    let y = 4u;
    b.gimme_an_a(y)
}

fn main() {
    let x = 3i;
    assert call_it(x) == 22;
}

Bug Labels:
A-type-system, I-ICE
