Issue Title:
ICE on beta in macro expansion: "byte index out of bounds" in resolve_imports · Issue #56411 · rust-lang/rust · GitHub

Rust Code:
macro_rules! import {
    ( $($name:ident),* ) => {
        $(
            mod $name;
            pub use self::$name;
        )*
    }
}

import!(day1);

Bug Trace:
macro_rules! import {
    ( $($name:ident),* ) => {
        $(
            mod $name;
            pub use self::$name;
        )*
    }
}

import!(day1);

Bug Labels:
A-macros, I-ICE
