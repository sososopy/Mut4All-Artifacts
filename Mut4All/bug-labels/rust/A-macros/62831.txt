Issue Title:
assume all sequences have (unique) spans for now · Issue #62831 · rust-lang/rust · GitHub

Rust Code:
pub trait Foo {
    fn len(&self) -> usize;
}
macro_rules ! delegate_foo
{
    ($ (< $ ($ types : ty) , * > :) ? $ (< $ ($ trait_types : ty) , * > for) ?
     $ struct : ty : $ inner : ident ; $ ($ extra : tt) *) =>
    {
        impl Foo for $ struct
        { fn len (& self) -> usize { self . $ inner . len () } $ ($ extra) * }
    } ;
}

Bug Labels:
A-macros, C-bug, I-ICE, T-compiler
