Issue Title:
Macro ICE · Issue #68058 · rust-lang/rust · GitHub

Rust Code:
macro_rules! def_target {
    ($target: expr) => {
        #[target_feature(enable=$target)]
        unsafe fn f() {
            #[target_feature(enable=$target)]
            ()
        }
    };
}

def_target!("avx2");

fn main() {}

Bug Labels:
A-HIR, A-macros, C-bug, I-ICE, T-compiler
