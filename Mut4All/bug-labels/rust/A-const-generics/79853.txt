Issue Title:
[ICE] with const generics without feature · Issue #79853 · rust-lang/rust · GitHub

Rust Code:
fn foo<const N: usize>(x: &[u8; N]) -> &[u8; N - 1] {
    match x { [_, ref xs @ ..] => xs }
}
fn main() {}

Bug Labels:
A-const-generics, C-bug, I-ICE, P-medium, T-compiler, regression-from-stable-to-stable
