Issue Title:
generic_const_exprs ICE with `const N: T` · Issue #90364 · rust-lang/rust · GitHub

Rust Code:
! [ feature ( generic_const_exprs ) ]
pub struct Grid < T , const W : usize , const H :
T > where [ ( ) ; W * H ] : Sized , { array : [ T ; W * H ] , } impl < T , const W : usize , const H : usize > Default for Grid < T , W , H > where [ ( ) ; W * H ] : Sized , T : Default + Copy , { fn default ( ) -> Self { Self { array : [ T :: default ( ) ; W * H ] ,
}
}
}
fn main ( ) {
}

Bug Trace:
thread 'rustc' panicked at 'assertion failed: !arg.has_type_flags(!allowed_flags)', compiler/rustc_typeck/src/collect/type_of.rs:296:9
stack backtrace:
   0: rust_begin_unwind
             at /rustc/91b931926fd49fc97d1e39f2b8206abf1d77ce7d/library/std/src/panicking.rs:495:5
   1: core::panicking::panic_fmt
             at /rustc/91b931926fd49fc97d1e39f2b8206abf1d77ce7d/library/core/src/panicking.rs:107:14
   2: core::panicking::panic
             at /rustc/91b931926fd49fc97d1e39f2b8206abf1d77ce7d/library/core/src/panicking.rs:50:5
   3: rustc_typeck::collect::type_of::default_anon_const_substs
   4: rustc_query_system::query::plumbing::try_execute_query::<rustc_query_impl::plumbing::QueryCtxt, rustc_query_system::query::caches::DefaultCache<rustc_span::def_id::DefId, &rustc_middle::ty::list::List<rustc_middle::ty::subst::GenericArg>>>
   5: rustc_query_system::query::plumbing::get_query::<rustc_query_impl::queries::default_anon_const_substs, rustc_query_impl::plumbing::QueryCtxt>
   6: <rustc_middle::ty::consts::kind::Unevaluated<()>>::substs
   7: <rustc_middle::ty::Predicate as rustc_middle::ty::fold::TypeFoldable>::super_fold_with::<rustc_trait_selection::traits::project::AssocTypeNormalizer>
   8: <rustc_infer::infer::InferCtxtBuilder>::enter::<core::result::Result<alloc::vec::Vec<rustc_middle::ty::Predicate>, rustc_errors::ErrorReported>, rustc_trait_selection::traits::do_normalize_predicates::{closure#0}>
   9: rustc_trait_selection::traits::normalize_param_env_or_error
  10: rustc_ty_utils::ty::param_env
  11: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::param_env
  12: rustc_typeck::check::wfcheck::for_id
  13: rustc_typeck::check::wfcheck::check_item_well_formed
  14: rustc_query_system::query::plumbing::try_execute_query::<rustc_query_impl::plumbing::QueryCtxt, rustc_query_system::query::caches::DefaultCache<rustc_span::def_id::LocalDefId, ()>>
  15: <rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine>::check_item_well_formed
  16: rustc_data_structures::sync::par_for_each_in::<&alloc::vec::Vec<core::option::Option<rustc_hir::hir::OwnerInfo>>, <rustc_middle::hir::map::Map>::par_visit_all_item_likes<rustc_typeck::check::wfcheck::CheckTypeWellFormedVisitor>::{closure#0}>
  17: <rustc_session::session::Session>::track_errors::<rustc_typeck::check_crate::{closure#5}, ()>
  18: rustc_typeck::check_crate
  19: rustc_interface::passes::analysis
  20: rustc_query_system::query::plumbing::try_execute_query::<rustc_query_impl::plumbing::QueryCtxt, rustc_query_system::query::caches::DefaultCache<(), core::result::Result<(), rustc_errors::ErrorReported>>>
  21: rustc_query_system::query::plumbing::get_query::<rustc_query_impl::queries::analysis, rustc_query_impl::plumbing::QueryCtxt>
  22: <rustc_interface::passes::QueryContext>::enter::<rustc_driver::run_compiler::{closure#1}::{closure#2}::{closure#3}, core::result::Result<(), rustc_errors::ErrorReported>>
  23: <rustc_interface::interface::Compiler>::enter::<rustc_driver::run_compiler::{closure#1}::{closure#2}, core::result::Result<core::option::Option<rustc_interface::queries::Linker>, rustc_errors::ErrorReported>>
  24: rustc_span::with_source_map::<core::result::Result<(), rustc_errors::ErrorReported>, rustc_interface::interface::create_compiler_and_run<core::result::Result<(), rustc_errors::ErrorReported>, rustc_driver::run_compiler::{closure#1}>::{closure#0}>
  25: <scoped_tls::ScopedKey<rustc_span::SessionGlobals>>::set::<rustc_interface::util::setup_callbacks_and_run_in_thread_pool_with_globals<rustc_interface::interface::run_compiler<core::result::Result<(), rustc_errors::ErrorReported>, rustc_driver::run_compiler::{closure#1}>::{closure#0}, core::result::Result<(), rustc_errors::ErrorReported>>::{closure#0}::{closure#0}, core::result::Result<(), rustc_errors::ErrorReported>>
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.

Bug Labels:
A-const-generics, C-bug, F-generic_const_exprs, I-ICE, T-compiler
