Issue Title:
int.rs:230:13: expected int of size 8, but got size 1 · Issue #86820 · rust-lang/rust · GitHub

Rust Code:
use std::ops::BitAnd;

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn is_set() {
        assert!(0xffu8.bit::<0>());
    }
}

trait Bits {
    fn bit<const I: u8>(self) -> bool;
}

impl<T> Bits for T where
    T: Copy + BitAnd<T, Output=T> + From<u8> + Eq
{
    fn bit<const I: usize>(self) -> bool {
        let i = 1 << I;
        let mask = T::from(i);
        mask & self == mask
    }
}

Bug Trace:
$ RUST_BACKTRACE=1 cargo test

Bug Labels:
A-const-generics, C-bug, I-ICE, P-medium, T-compiler, glacier
