Issue Title:
ICE with const generics on stable >= 1.34.0 · Issue #61390 · rust-lang/rust · GitHub

Rust Code:
#![feature(const_generics)]

pub struct S<const N: usize>([u8; N]);
impl<const T: isize> S<T> {}

Bug Trace:
thread 'rustc' panicked at 'slice index starts at 1 but ends at 0', src/libcore/slice/mod.rs:2419:5

note: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.
error: internal compiler error: unexpected panic
note: the compiler unexpectedly panicked. this is a bug.
note: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports
note: rustc 1.34.0 (91856ed52 2019-04-10) running on x86_64-unknown-linux-gnu
note: compiler flags: -C debuginfo=1 -C llvm-args=--x86-asm-syntax=intel --crate-type rlib
Compiler returned: 101

Bug Labels:
A-const-generics, C-bug, F-const_generics, I-ICE, T-compiler, requires-nightly
