Issue Title:
Broken MIR (and diagnostics) using Higher-Rank Trait Bounds and associated types · Issue #80956 · rust-lang/rust · GitHub

Rust Code:
trait Bar {
    type Type;
}
struct Foo<'a>(&'a ());
impl<'a> Bar for Foo<'a> {
    type Type = ();
}

fn func<'a>(_: <Foo<'a> as Bar>::Type) {}
fn assert_is_func<A>(_: fn(A)) {}

fn test() where for<'a> <Foo<'a> as Bar>::Type: Sized {
    assert_is_func(func);
}

Bug Labels:
A-associated-items, A-borrow-checker, A-lifetimes, C-bug, E-needs-test, I-ICE, T-compiler, glacier
