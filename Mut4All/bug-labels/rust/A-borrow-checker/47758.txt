Issue Title:
unexpected panic · Issue #47758 · rust-lang/rust · GitHub

Rust Code:
#![feature(proc_macro, conservative_impl_trait, generators)]
extern crate futures_await as futures;
use futures::future::ok;
use futures::prelude::*;

enum Test{
    A(i32),
    B
}

fn main() {}

#[async]
fn fun(test : Test) -> Result<(),()> {

    if let Test::A(ref _a) = test {
         await!(ok::<(), ()>(()));
    }

    Ok(())
}

Bug Labels:
A-borrow-checker, A-coroutines, C-bug, I-ICE, T-compiler
