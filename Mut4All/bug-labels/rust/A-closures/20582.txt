Issue Title:
ICE with lifetimes and associated types · Issue #20582 · rust-lang/rust · GitHub

Rust Code:
// t.rs
#![feature(associated_types)]

struct Foo<'a> {
    buf: &'a[u8]
}

impl<'a> Iterator for Foo<'a> {
    type Item = &'a[u8];

    fn next(&mut self) -> Option<<Self as Iterator>::Item> {
    //THIS WORKS: fn next(&mut self) -> Option<&'a[u8]> {
        Some(self.buf)
    }
}

fn main() {
}

Bug Labels:
A-associated-items, A-closures, I-ICE
