Issue Title:
thread 'rustc' panicked at 'no label after fn', src/libcore/option.rs:1188:5 · Issue #72095 · rust-lang/rust · GitHub

Rust Code:
#[async_trait::async_trait]
impl<T> Trait<T> for Struct<T> {
    fn foo_<'a>(
        &self,
    ) -> Pin<
        Box<
            dyn 'a
                + Send
                + Future<Output = Pin<Box<dyn Send + Stream<Item = Result<Res, Error>>>>>,
        >,
    > {
        async fn run(this: Struct<T>) -> Pin<Box<dyn Send + Stream<Item = Result<Res, Error>>>> {
            unimplemented!()
        }
        Box::pin(run(self.clone()))
    }
}

Bug Trace:
thread 'rustc' panicked at 'no label after fn', src/libcore/option.rs:1188:5
stack backtrace:
   0: <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt
   1: core::fmt::write
   2: std::io::Write::write_fmt
   3: std::panicking::default_hook::{{closure}}
   4: std::panicking::default_hook
   5: rustc_driver::report_ice
   6: <alloc::boxed::Box<F> as core::ops::function::Fn<A>>::call
             at /build/rustc-1.41.0-src/src/liballoc/boxed.rs:1036
   7: proc_macro::bridge::client::<impl proc_macro::bridge::Bridge>::enter::{{closure}}::{{closure}}
             at /build/rustc-1.41.0-src/src/libproc_macro/bridge/client.rs:305
   8: std::panicking::rust_panic_with_hook
   9: rust_begin_unwind
  10: core::panicking::panic_fmt
  11: core::option::expect_failed
  12: syntax_pos::source_map::SourceMap::generate_fn_name_span
  13: rustc_resolve::diagnostics::<impl rustc_resolve::Resolver>::into_struct_error
  14: rustc_resolve::Resolver::resolve_ident_in_lexical_scope
  15: rustc_resolve::Resolver::resolve_path_with_ribs
  16: rustc_resolve::late::LateResolutionVisitor::smart_resolve_path_fragment
  17: rustc_resolve::late::LateResolutionVisitor::smart_resolve_path
  18: <rustc_resolve::late::LateResolutionVisitor as syntax::visit::Visitor>::visit_ty
  19: syntax::visit::walk_generic_args
  20: syntax::visit::walk_ty
  21: rustc_resolve::late::LateResolutionVisitor::resolve_params
  22: <rustc_resolve::late::LateResolutionVisitor as syntax::visit::Visitor>::visit_fn
  23: syntax::visit::walk_item
  24: rustc_resolve::late::LateResolutionVisitor::resolve_item
  25: <rustc_resolve::late::LateResolutionVisitor as syntax::visit::Visitor>::visit_block
  26: <rustc_resolve::late::LateResolutionVisitor as syntax::visit::Visitor>::visit_fn
  27: syntax::visit::walk_impl_item
  28: rustc_resolve::late::LateResolutionVisitor::resolve_item
  29: syntax::visit::walk_crate
  30: rustc_resolve::Resolver::resolve_crate
  31: rustc_interface::passes::configure_and_expand::{{closure}}
  32: rustc_interface::passes::configure_and_expand
  33: rustc_interface::queries::Queries::expansion
  34: rustc_interface::interface::run_compiler_in_existing_thread_pool
  35: std::thread::local::LocalKey<T>::with
  36: scoped_tls::ScopedKey<T>::set
  37: syntax::with_globals
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.

error: internal compiler error: unexpected panic

note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports

note: rustc 1.41.0 running on x86_64-unknown-linux-gnu

note: compiler flags: -C debuginfo=2 -C incremental --crate-type lib

note: some of the compiler flags provided by cargo are hidden

query stack during panic:
end of query stack
error: could not compile `example`.

Bug Labels:
A-async-await, A-macros, A-resolve, AsyncAwait-Triaged, C-bug, I-ICE, P-high, T-compiler
