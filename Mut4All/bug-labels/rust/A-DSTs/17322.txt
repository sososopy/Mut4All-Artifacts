Issue Title:
ICE passing a trait object by reference · Issue #17322 · rust-lang/rust · GitHub

Rust Code:
use std::io;

fn f(wr: &mut Writer) {
    wr.write_str("hello").ok().expect("failed");
}

fn main() {
    let mut wr = box io::stdout() as Box<Writer + 'static>;
    f(&mut wr);
}

Bug Labels:
A-DSTs, I-ICE
