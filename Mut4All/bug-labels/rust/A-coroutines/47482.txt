Issue Title:
ICE in ElaborateDrops with generators · Issue #47482 · rust-lang/rust · GitHub

Rust Code:
#![feature(generators)]

use std::rc::Rc;
use std::cell::RefCell;

fn main() {
    let thing: Rc<RefCell<Option<String>>> = Rc::new(RefCell::new(None));

    let _ = || {
        thing.borrow_mut().unwrap();
        yield;
    };
}

Bug Labels:
A-coroutines, C-bug, I-ICE, T-compiler
