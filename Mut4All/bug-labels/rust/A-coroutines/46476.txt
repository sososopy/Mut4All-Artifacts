Issue Title:
ICE when using `impl Iterator<Item = &'a Path> + 'a` · Issue #46476 · rust-lang/rust · GitHub

Rust Code:
impl MediaLibrary{
    // ..........
    pub fn meta_fps_from_item_fp<'a, P: Into<PathBuf> + 'a>(&'a self, abs_item_path: P) -> impl Iterator<Item = &'a Path> + 'a {
        // Dummy fixture to make sure this is a generator.
        let closure = move || {
            if false {
                yield Path::new("foo.txt")
            }

            // Empty for loop, compiled here just to check if my code was correct.
            // ICE occurred after adding this loop.
            for meta_target in self.meta_targets {

            }
        };
        gen_to_iter(closure)
    }
}

Bug Labels:
A-coroutines, A-impl-trait, C-bug, I-ICE
