Issue Title:
Internal compiler error caused if statements involving an iterator adapter function use an undeclared type or module. · Issue #49544 · rust-lang/rust · GitHub

Rust Code:
mod lib;
use lib::foo;

fn main() {
    let _ = foo();
}

Bug Labels:
A-iterators, C-bug, E-needs-test, I-ICE, T-compiler
